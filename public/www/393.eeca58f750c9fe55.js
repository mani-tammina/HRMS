"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[393],{6393:(I,_,s)=>{s.r(_),s.d(_,{HomePage:()=>R});var g=s(467),c=s(9907),p=s(177),u=s(2951),d=s(5873),n=s(4438),h=s(8010),f=s(1963),v=s(7599),P=s(6437),b=s(3799);const O=(a,r,e,o)=>({primary:a,success:r,warning:e,danger:o});function M(a,r){if(1&a){const e=n.RV6();n.j41(0,"ion-button",99),n.bIt("click",function(){n.eBV(e);const t=n.XpG();return n.Njj(t.punchIn())}),n.nrm(1,"ion-icon",100),n.EFF(2," Punch In "),n.k0s()}if(2&a){const e=n.XpG();n.Y8G("disabled",e.isLoading)}}function C(a,r){if(1&a){const e=n.RV6();n.j41(0,"ion-button",101),n.bIt("click",function(){n.eBV(e);const t=n.XpG();return n.Njj(t.punchOut())}),n.nrm(1,"ion-icon",102),n.EFF(2," Punch Out "),n.k0s()}if(2&a){const e=n.XpG();n.Y8G("disabled",e.isLoading)}}function k(a,r){if(1&a){const e=n.RV6();n.j41(0,"div",103)(1,"ion-button",104),n.bIt("click",function(){n.eBV(e);const t=n.XpG();return n.Njj(t.navigateTo("leave-request"))}),n.nrm(2,"ion-icon",105),n.k0s(),n.j41(3,"ion-button",104),n.bIt("click",function(){n.eBV(e);const t=n.XpG();return n.Njj(t.navigateTo("attendance"))}),n.nrm(4,"ion-icon",106),n.k0s(),n.j41(5,"ion-button",107),n.nrm(6,"ion-icon",108),n.k0s()()}}function x(a,r){if(1&a){const e=n.RV6();n.j41(0,"div",109)(1,"div",53),n.bIt("click",function(){n.eBV(e);const t=n.XpG();return n.Njj(t.navigateTo("admin/dashboard"))}),n.j41(2,"div",110),n.nrm(3,"ion-icon",111),n.k0s(),n.j41(4,"p"),n.EFF(5,"Admin Panel"),n.k0s()(),n.j41(6,"div",53),n.bIt("click",function(){n.eBV(e);const t=n.XpG();return n.Njj(t.navigateTo("admin/bulk-upload"))}),n.j41(7,"div",112),n.nrm(8,"ion-icon",113),n.k0s(),n.j41(9,"p"),n.EFF(10,"Bulk Upload"),n.k0s()(),n.j41(11,"div",53),n.bIt("click",function(){n.eBV(e);const t=n.XpG();return n.Njj(t.navigateTo("admin/master-data"))}),n.j41(12,"div",114),n.nrm(13,"ion-icon",115),n.k0s(),n.j41(14,"p"),n.EFF(15,"Master Data"),n.k0s()()()}}function y(a,r){if(1&a&&(n.j41(0,"div",116),n.nrm(1,"div",117),n.j41(2,"div",118)(3,"p",119),n.EFF(4),n.k0s(),n.j41(5,"p",120),n.nrm(6,"ion-icon",19),n.EFF(7),n.k0s()()()),2&a){const e=r.$implicit;n.R7$(4),n.JRh(e.title),n.R7$(3),n.SpI(" ",e.time," ")}}function F(a,r){if(1&a&&(n.j41(0,"div",123)(1,"div",124),n.nrm(2,"ion-icon",125),n.k0s(),n.j41(3,"div",126)(4,"p",127),n.EFF(5),n.j41(6,"span"),n.EFF(7),n.k0s()(),n.j41(8,"p",128),n.EFF(9),n.k0s()()()),2&a){const e=r.$implicit,o=n.XpG(2);n.R7$(),n.Y8G("ngClass",n.ziG(5,O,"AL"===e.type_code||"PL"===e.type_code,"SL"===e.type_code||"ML"===e.type_code,"CL"===e.type_code,"LWP"===e.type_code||"UL"===e.type_code)),n.R7$(),n.Y8G("name",o.getLeaveIcon(e.type_code)),n.R7$(3),n.SpI("",e.available_days||0," "),n.R7$(2),n.SpI("/",e.allocated_days||0,""),n.R7$(2),n.JRh(e.type_name||e.leave_type_name)}}function j(a,r){if(1&a&&(n.j41(0,"div",121),n.DNE(1,F,10,10,"div",122),n.k0s()),2&a){const e=n.XpG();n.R7$(),n.Y8G("ngForOf",e.leaveBalances)}}function E(a,r){1&a&&(n.j41(0,"div",121)(1,"div",123)(2,"div",129),n.nrm(3,"ion-icon",130),n.k0s(),n.j41(4,"div",126)(5,"p",127),n.EFF(6,"-- "),n.j41(7,"span"),n.EFF(8,"/--"),n.k0s()(),n.j41(9,"p",128),n.EFF(10,"No leave data"),n.k0s()()()())}function T(a,r){if(1&a){const e=n.RV6();n.j41(0,"div",134)(1,"ion-avatar",135)(2,"img",136),n.bIt("error",function(t){n.eBV(e);const i=n.XpG(2);return n.Njj(i.handleImageError(t))}),n.k0s()(),n.j41(3,"div",137)(4,"p",138),n.EFF(5),n.k0s(),n.j41(6,"p",139),n.EFF(7),n.k0s()(),n.j41(8,"ion-badge",35),n.EFF(9),n.k0s()()}if(2&a){const e=r.$implicit;n.R7$(2),n.Y8G("src",e.avatar||"assets/avatar-placeholder.png",n.B4B)("alt",e.name),n.R7$(3),n.JRh(e.name),n.R7$(2),n.JRh(e.position),n.R7$(),n.Y8G("color","active"===e.status?"success":"medium"),n.R7$(),n.SpI(" ","active"===e.status?"Active":"Inactive"," ")}}function w(a,r){if(1&a){const e=n.RV6();n.j41(0,"ion-card",131)(1,"ion-card-header")(2,"div",62)(3,"ion-card-title"),n.nrm(4,"ion-icon",57),n.EFF(5," Team Members "),n.k0s(),n.j41(6,"ion-button",82),n.bIt("click",function(){n.eBV(e);const t=n.XpG();return n.Njj(t.navigateTo("employees"))}),n.EFF(7," View All "),n.k0s()()(),n.j41(8,"ion-card-content")(9,"div",132),n.DNE(10,T,10,6,"div",133),n.k0s()()()}if(2&a){const e=n.XpG();n.R7$(10),n.Y8G("ngForOf",e.teamMembers)}}let R=(()=>{class a{constructor(e,o,t,i,l,m){this.authService=e,this.attendanceService=o,this.leaveService=t,this.employeeService=i,this.router=l,this.toastController=m,this.user=null,this.isAdmin=!1,this.todayAttendance=null,this.todayStatus=null,this.currentTime="",this.isLoading=!1,this.canPunchIn=!0,this.canPunchOut=!1,this.currentEmployee=null,this.teamMembers=[],this.leaveBalances=[],this.stats={workHours:"0h 0m",leavesUsed:0,leavesPending:0,attendanceRate:0},this.announcements=[{title:"Happy Thanksgiving Day holiday - 27th & 28th Nov Company will remain closed on these dates",time:"26 Dec 2025 \u2022 12:30 PM"},{title:"Happy Thanksgiving Day holiday - 27th & 28th Nov Company will remain closed on these dates",time:"26 Dec 2025 \u2022 12:30 PM"},{title:"Happy Thanksgiving Day holiday - 27th & 28th Nov Company will remain closed on these dates",time:"26 Dec 2025 \u2022 12:30 PM"}],this.celebrations=[{name:"Jenny Wilson",type:"Birthday",date:"26 Dec",avatar:"assets/avatar-placeholder.png"},{name:"Darrell Steward",type:"Birthday",date:"26 Dec",avatar:"assets/avatar-placeholder.png"},{name:"Shivani Pandey",type:"Work Anniversary",date:"26 Dec",avatar:"assets/avatar-placeholder.png"}],(0,u.d)({notificationsOutline:d.rqk,calendarOutline:d.RXF,timeOutline:d.CVk,documentTextOutline:d.pXZ,peopleOutline:d.wx_,trendingUpOutline:d.F0Q,settingsOutline:d.s8q,cloudUploadOutline:d.Fb6,shieldOutline:d.uLY})}ngOnInit(){this.userSubscription=this.authService.currentUser$.subscribe(e=>{this.user=e,this.isAdmin="admin"===e?.role||"hr"===e?.role,console.log("Home: User role updated:",e?.role,"isAdmin:",this.isAdmin)}),this.updateTime(),this.loadData(),setInterval(()=>this.updateTime(),6e4)}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe()}updateTime(){this.currentTime=(new Date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}loadData(){console.log("Loading dashboard data..."),this.employeeService.getMyProfile().subscribe({next:e=>{console.log("Current employee profile:",e),this.currentEmployee=e,("manager"===this.user?.role||this.isAdmin)&&this.loadTeamMembers(e.id)},error:e=>console.error("Error loading profile:",e)}),this.attendanceService.getTodayStatus().subscribe({next:e=>{if(console.log("Today status data:",e),this.todayStatus=e,this.canPunchIn=!1!==e.can_punch_in,this.canPunchOut=!0===e.can_punch_out,e.has_attendance){this.todayAttendance=e.attendance;const o=e.attendance.gross_hours||e.attendance.total_work_hours||0,t=Math.floor(o),i=Math.round(60*(o-t));this.stats.workHours=`${t}h ${i}m`}else this.todayAttendance=null,this.stats.workHours="0h 0m"},error:e=>console.error("Error loading attendance:",e)}),this.leaveService.getLeaveBalance().subscribe({next:e=>{console.log("Leave balance data:",e),this.stats.leavesUsed=e.used||0,this.stats.attendanceRate=e.attendanceRate||0,e.balances&&Array.isArray(e.balances)?this.leaveBalances=e.balances:e.leave_balances&&Array.isArray(e.leave_balances)&&(this.leaveBalances=e.leave_balances)},error:e=>console.error("Error loading leave balance:",e)}),this.leaveService.getLeaves().subscribe({next:e=>{this.stats.leavesPending=e.filter(o=>"pending"===o.status).length},error:e=>console.error("Error loading leaves:",e)})}loadTeamMembers(e){this.employeeService.getTeamMembers(e).subscribe({next:o=>{console.log("Team members:",o),this.teamMembers=o.slice(0,5)},error:o=>console.error("Error loading team members:",o)})}formatTime(e){return e?new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):"--:--"}get formattedCheckIn(){return this.formatTime(this.todayAttendance?.check_in||this.todayAttendance?.first_check_in)}get formattedCheckOut(){return this.formatTime(this.todayAttendance?.check_out||this.todayAttendance?.last_check_out)}get canCheckOut(){return this.todayAttendance&&!this.todayAttendance.check_out&&!this.todayAttendance.last_check_out}handleRefresh(e){this.loadData(),setTimeout(()=>{e.target.complete()},1e3)}navigateTo(e){this.router.navigate([`/${e}`])}goToNotifications(){this.router.navigate(["/notifications"])}handleImageError(e){e.target.src="assets/avatar-placeholder.png"}punchIn(){var e=this;return(0,g.A)(function*(){var o;e.isLoading=!0,e.canPunchIn=!1,console.log("HomePage: Punching in..."),e.attendanceService.punchIn("Office").subscribe({next:(o=(0,g.A)(function*(t){console.log("HomePage: Punch-in response:",t),yield e.showToast(t.message||"Punched in successfully!","success"),e.loadData(),e.isLoading=!1}),function(i){return o.apply(this,arguments)}),error:function(){var o=(0,g.A)(function*(t){console.error("HomePage: Punch-in error:",t),e.canPunchIn=!0,e.isLoading=!1,yield e.showToast(t.error?.error||t.error?.message||"Punch-in failed","danger")});return function(i){return o.apply(this,arguments)}}()})})()}punchOut(){var e=this;return(0,g.A)(function*(){var o;e.isLoading=!0,e.canPunchOut=!1,console.log("HomePage: Punching out..."),e.attendanceService.punchOut().subscribe({next:(o=(0,g.A)(function*(t){console.log("HomePage: Punch-out response:",t),yield e.showToast(t.message||"Punched out successfully!","success"),e.loadData(),e.isLoading=!1}),function(i){return o.apply(this,arguments)}),error:function(){var o=(0,g.A)(function*(t){console.error("HomePage: Punch-out error:",t),e.canPunchOut=!0,e.isLoading=!1,yield e.showToast(t.error?.error||t.error?.message||"Punch-out failed","danger")});return function(i){return o.apply(this,arguments)}}()})})()}showToast(e,o){var t=this;return(0,g.A)(function*(){yield(yield t.toastController.create({message:e,duration:3e3,color:o,position:"top"})).present()})()}getLeaveIcon(e){return{AL:"sunny-outline",PL:"sunny-outline",SL:"medical-outline",ML:"medical-outline",CL:"home-outline",LWP:"close-circle-outline",UL:"close-circle-outline"}[e]||"calendar-outline"}static{this.\u0275fac=function(o){return new(o||a)(n.rXU(h.u),n.rXU(f.$),n.rXU(v.P),n.rXU(P.O),n.rXU(b.Ix),n.rXU(c.K_))}}static{this.\u0275cmp=n.VBU({type:a,selectors:[["app-home"]],standalone:!0,features:[n.aNF],decls:243,vars:24,consts:[["noLeaveData",""],[1,"ion-no-border"],[1,"header-toolbar"],[1,"header-title"],[1,"title-content"],[1,"subtitle"],["slot","end"],["fill","clear",3,"click"],["slot","icon-only","name","notifications-outline",1,"notification-icon"],["color","danger",1,"notification-badge"],["fill","clear"],[1,"header-avatar"],["alt","Profile",3,"error","src"],[1,"dashboard-content",3,"fullscreen"],["slot","fixed",3,"ionRefresh"],[1,"dashboard-wrapper"],[1,"stats-row"],[1,"stat-card","stat-primary"],[1,"stat-icon"],["name","time-outline"],[1,"stat-content"],[1,"stat-label"],[1,"stat-value"],[1,"stat-change","positive"],[1,"stat-card","stat-success"],["name","checkmark-circle-outline"],[1,"stat-card","stat-warning"],["name","calendar-outline"],[1,"stat-change","neutral"],[1,"stat-card","stat-info"],["name","hourglass-outline"],[1,"attendance-card"],[1,"card-header"],[1,"header-left"],[1,"date-display"],[3,"color"],[1,"attendance-time-section"],[1,"time-display"],[1,"time-item"],["name","log-in-outline",1,"time-icon","in"],[1,"time-label"],[1,"time-value"],[1,"time-divider"],["name","log-out-outline",1,"time-icon","out"],["name","time-outline",1,"time-icon","total"],[1,"action-buttons"],["expand","block","class","check-btn check-in-btn",3,"disabled","click",4,"ngIf"],["expand","block","class","check-btn check-out-btn",3,"disabled","click",4,"ngIf"],["class","quick-action-btns",4,"ngIf"],[1,"content-grid"],[1,"grid-left"],[1,"quick-actions-card"],[1,"action-grid"],[1,"action-item",3,"click"],[1,"action-icon","primary"],[1,"action-icon","success"],[1,"action-icon","warning"],["name","people-outline"],[1,"action-icon","info"],["name","document-text-outline"],["class","action-grid admin-actions",4,"ngIf"],[1,"announcements-card"],[1,"card-header-with-action"],["name","megaphone-outline"],["fill","clear","size","small"],["name","chevron-forward-outline","slot","end"],[1,"announcement-list"],["class","announcement-item",4,"ngFor","ngForOf"],[1,"chart-card"],["color","success"],[1,"simple-chart"],[1,"chart-bar",2,"height","60%"],[1,"bar-value"],[1,"chart-bar",2,"height","80%"],[1,"chart-bar",2,"height","70%"],[1,"chart-bar",2,"height","90%"],[1,"chart-bar",2,"height","75%"],[1,"chart-bar",2,"height","85%"],[1,"chart-bar",2,"height","95%"],[1,"chart-labels"],[1,"grid-right"],[1,"leave-card"],["fill","clear","size","small",3,"click"],["class","leave-grid",4,"ngIf","ngIfElse"],[1,"events-card"],["name","gift-outline"],[1,"event-list"],[1,"event-item","holiday"],[1,"event-date"],[1,"day"],[1,"month"],[1,"event-details"],[1,"event-title"],[1,"event-type"],[1,"event-item","birthday"],["name","cake-outline"],[1,"event-item","anniversary"],["name","trophy-outline"],["class","team-card",4,"ngIf"],["expand","block",1,"check-btn","check-in-btn",3,"click","disabled"],["name","log-in-outline","slot","start"],["expand","block",1,"check-btn","check-out-btn",3,"click","disabled"],["name","log-out-outline","slot","start"],[1,"quick-action-btns"],["fill","outline","size","small",3,"click"],["name","document-text-outline","slot","icon-only"],["name","calendar-outline","slot","icon-only"],["fill","outline","size","small"],["name","bar-chart-outline","slot","icon-only"],[1,"action-grid","admin-actions"],[1,"action-icon","danger"],["name","shield-outline"],[1,"action-icon","secondary"],["name","cloud-upload-outline"],[1,"action-icon","tertiary"],["name","settings-outline"],[1,"announcement-item"],[1,"announcement-dot"],[1,"announcement-content"],[1,"announcement-title"],[1,"announcement-time"],[1,"leave-grid"],["class","leave-type-item",4,"ngFor","ngForOf"],[1,"leave-type-item"],[1,"leave-icon",3,"ngClass"],[3,"name"],[1,"leave-info"],[1,"leave-count"],[1,"leave-name"],[1,"leave-icon","primary"],["name","sunny-outline"],[1,"team-card"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"member-avatar"],[3,"error","src","alt"],[1,"member-info"],[1,"member-name"],[1,"member-role"]],template:function(o,t){if(1&o){const i=n.RV6();n.j41(0,"ion-header",1)(1,"ion-toolbar",2)(2,"ion-title",3)(3,"div",4)(4,"h1"),n.EFF(5,"Dashboard"),n.k0s(),n.j41(6,"p",5),n.EFF(7),n.k0s()()(),n.j41(8,"ion-buttons",6)(9,"ion-button",7),n.bIt("click",function(){return n.eBV(i),n.Njj(t.goToNotifications())}),n.nrm(10,"ion-icon",8),n.j41(11,"ion-badge",9),n.EFF(12,"3"),n.k0s()(),n.j41(13,"ion-button",10)(14,"ion-avatar",11)(15,"img",12),n.bIt("error",function(m){return n.eBV(i),n.Njj(t.handleImageError(m))}),n.k0s()()()()()(),n.j41(16,"ion-content",13)(17,"ion-refresher",14),n.bIt("ionRefresh",function(m){return n.eBV(i),n.Njj(t.handleRefresh(m))}),n.nrm(18,"ion-refresher-content"),n.k0s(),n.j41(19,"div",15)(20,"div",16)(21,"div",17)(22,"div",18),n.nrm(23,"ion-icon",19),n.k0s(),n.j41(24,"div",20)(25,"p",21),n.EFF(26,"Work Hours"),n.k0s(),n.j41(27,"h2",22),n.EFF(28),n.k0s(),n.j41(29,"p",23),n.EFF(30,"+2.5% from last week"),n.k0s()()(),n.j41(31,"div",24)(32,"div",18),n.nrm(33,"ion-icon",25),n.k0s(),n.j41(34,"div",20)(35,"p",21),n.EFF(36,"Attendance Rate"),n.k0s(),n.j41(37,"h2",22),n.EFF(38),n.k0s(),n.j41(39,"p",23),n.EFF(40,"+5% this month"),n.k0s()()(),n.j41(41,"div",26)(42,"div",18),n.nrm(43,"ion-icon",27),n.k0s(),n.j41(44,"div",20)(45,"p",21),n.EFF(46,"Leaves Used"),n.k0s(),n.j41(47,"h2",22),n.EFF(48),n.k0s(),n.j41(49,"p",28),n.EFF(50),n.k0s()()(),n.j41(51,"div",29)(52,"div",18),n.nrm(53,"ion-icon",30),n.k0s(),n.j41(54,"div",20)(55,"p",21),n.EFF(56,"Pending"),n.k0s(),n.j41(57,"h2",22),n.EFF(58),n.k0s(),n.j41(59,"p",28),n.EFF(60,"Leave requests"),n.k0s()()()(),n.j41(61,"ion-card",31)(62,"div",32)(63,"div",33)(64,"h2"),n.EFF(65,"Today's Attendance"),n.k0s(),n.j41(66,"p",34),n.EFF(67),n.k0s()(),n.j41(68,"ion-badge",35),n.EFF(69),n.k0s()(),n.j41(70,"div",36)(71,"div",37)(72,"div",38),n.nrm(73,"ion-icon",39),n.j41(74,"div")(75,"p",40),n.EFF(76,"Check In"),n.k0s(),n.j41(77,"h3",41),n.EFF(78),n.k0s()()(),n.nrm(79,"div",42),n.j41(80,"div",38),n.nrm(81,"ion-icon",43),n.j41(82,"div")(83,"p",40),n.EFF(84,"Check Out"),n.k0s(),n.j41(85,"h3",41),n.EFF(86),n.k0s()()(),n.nrm(87,"div",42),n.j41(88,"div",38),n.nrm(89,"ion-icon",44),n.j41(90,"div")(91,"p",40),n.EFF(92,"Total Hours"),n.k0s(),n.j41(93,"h3",41),n.EFF(94),n.k0s()()()(),n.j41(95,"div",45),n.DNE(96,M,3,1,"ion-button",46)(97,C,3,1,"ion-button",47)(98,k,7,0,"div",48),n.k0s()()(),n.j41(99,"div",49)(100,"div",50)(101,"ion-card",51)(102,"ion-card-header")(103,"ion-card-title"),n.EFF(104,"Quick Actions"),n.k0s()(),n.j41(105,"ion-card-content")(106,"div",52)(107,"div",53),n.bIt("click",function(){return n.eBV(i),n.Njj(t.navigateTo("attendance"))}),n.j41(108,"div",54),n.nrm(109,"ion-icon",19),n.k0s(),n.j41(110,"p"),n.EFF(111,"Attendance"),n.k0s()(),n.j41(112,"div",53),n.bIt("click",function(){return n.eBV(i),n.Njj(t.navigateTo("leave-request"))}),n.j41(113,"div",55),n.nrm(114,"ion-icon",27),n.k0s(),n.j41(115,"p"),n.EFF(116,"Apply Leave"),n.k0s()(),n.j41(117,"div",53),n.bIt("click",function(){return n.eBV(i),n.Njj(t.navigateTo("employees"))}),n.j41(118,"div",56),n.nrm(119,"ion-icon",57),n.k0s(),n.j41(120,"p"),n.EFF(121,"Directory"),n.k0s()(),n.j41(122,"div",53),n.bIt("click",function(){return n.eBV(i),n.Njj(t.navigateTo("payroll"))}),n.j41(123,"div",58),n.nrm(124,"ion-icon",59),n.k0s(),n.j41(125,"p"),n.EFF(126,"Payslip"),n.k0s()()(),n.DNE(127,x,16,0,"div",60),n.k0s()(),n.j41(128,"ion-card",61)(129,"ion-card-header")(130,"div",62)(131,"ion-card-title"),n.nrm(132,"ion-icon",63),n.EFF(133," Announcements "),n.k0s(),n.j41(134,"ion-button",64),n.EFF(135," View All "),n.nrm(136,"ion-icon",65),n.k0s()()(),n.j41(137,"ion-card-content")(138,"div",66),n.DNE(139,y,8,2,"div",67),n.k0s()()(),n.j41(140,"ion-card",68)(141,"ion-card-header")(142,"div",62)(143,"ion-card-title"),n.EFF(144,"Attendance Overview"),n.k0s(),n.j41(145,"ion-badge",69),n.EFF(146,"+6% improvement"),n.k0s()()(),n.j41(147,"ion-card-content")(148,"div",70)(149,"div",71)(150,"span",72),n.EFF(151,"60%"),n.k0s()(),n.j41(152,"div",73)(153,"span",72),n.EFF(154,"80%"),n.k0s()(),n.j41(155,"div",74)(156,"span",72),n.EFF(157,"70%"),n.k0s()(),n.j41(158,"div",75)(159,"span",72),n.EFF(160,"90%"),n.k0s()(),n.j41(161,"div",76)(162,"span",72),n.EFF(163,"75%"),n.k0s()(),n.j41(164,"div",77)(165,"span",72),n.EFF(166,"85%"),n.k0s()(),n.j41(167,"div",78)(168,"span",72),n.EFF(169,"95%"),n.k0s()()(),n.j41(170,"div",79)(171,"span"),n.EFF(172,"Mon"),n.k0s(),n.j41(173,"span"),n.EFF(174,"Tue"),n.k0s(),n.j41(175,"span"),n.EFF(176,"Wed"),n.k0s(),n.j41(177,"span"),n.EFF(178,"Thu"),n.k0s(),n.j41(179,"span"),n.EFF(180,"Fri"),n.k0s(),n.j41(181,"span"),n.EFF(182,"Sat"),n.k0s(),n.j41(183,"span"),n.EFF(184,"Sun"),n.k0s()()()()(),n.j41(185,"div",80)(186,"ion-card",81)(187,"ion-card-header")(188,"div",62)(189,"ion-card-title"),n.nrm(190,"ion-icon",27),n.EFF(191," Leave Balance "),n.k0s(),n.j41(192,"ion-button",82),n.bIt("click",function(){return n.eBV(i),n.Njj(t.navigateTo("leaves"))}),n.EFF(193," View All "),n.k0s()()(),n.j41(194,"ion-card-content"),n.DNE(195,j,2,1,"div",83)(196,E,11,0,"ng-template",null,0,n.C5r),n.k0s()(),n.j41(198,"ion-card",84)(199,"ion-card-header")(200,"div",62)(201,"ion-card-title"),n.nrm(202,"ion-icon",85),n.EFF(203," Upcoming Events "),n.k0s()()(),n.j41(204,"ion-card-content")(205,"div",86)(206,"div",87)(207,"div",88)(208,"span",89),n.EFF(209,"25"),n.k0s(),n.j41(210,"span",90),n.EFF(211,"Dec"),n.k0s()(),n.j41(212,"div",91)(213,"p",92),n.EFF(214,"Christmas Day"),n.k0s(),n.j41(215,"p",93),n.nrm(216,"ion-icon",85),n.EFF(217," Public Holiday "),n.k0s()()(),n.j41(218,"div",94)(219,"div",88)(220,"span",89),n.EFF(221,"26"),n.k0s(),n.j41(222,"span",90),n.EFF(223,"Dec"),n.k0s()(),n.j41(224,"div",91)(225,"p",92),n.EFF(226),n.k0s(),n.j41(227,"p",93),n.nrm(228,"ion-icon",95),n.EFF(229," Birthday "),n.k0s()()(),n.j41(230,"div",96)(231,"div",88)(232,"span",89),n.EFF(233,"26"),n.k0s(),n.j41(234,"span",90),n.EFF(235,"Dec"),n.k0s()(),n.j41(236,"div",91)(237,"p",92),n.EFF(238),n.k0s(),n.j41(239,"p",93),n.nrm(240,"ion-icon",97),n.EFF(241," Work Anniversary "),n.k0s()()()()()(),n.DNE(242,w,11,1,"ion-card",98),n.k0s()()()()}if(2&o){const i=n.sdS(197);n.R7$(7),n.SpI("Welcome back, ",(null==t.user?null:t.user.name)||"User","!"),n.R7$(8),n.Y8G("src",(null==t.user?null:t.user.avatar)||"assets/avatar-placeholder.png",n.B4B),n.R7$(),n.Y8G("fullscreen",!0),n.R7$(12),n.JRh(t.stats.workHours),n.R7$(10),n.SpI("",t.stats.attendanceRate,"%"),n.R7$(10),n.SpI("",t.stats.leavesUsed,"/20"),n.R7$(2),n.SpI("",20-t.stats.leavesUsed," remaining"),n.R7$(8),n.JRh(t.stats.leavesPending),n.R7$(9),n.JRh(t.currentTime),n.R7$(),n.Y8G("color",t.todayAttendance?"success":"medium"),n.R7$(),n.SpI(" ",t.todayAttendance?"Checked In":"Not Checked In"," "),n.R7$(9),n.JRh(t.formattedCheckIn),n.R7$(8),n.JRh(t.formattedCheckOut),n.R7$(8),n.JRh(t.stats.workHours),n.R7$(2),n.Y8G("ngIf",t.canPunchIn),n.R7$(),n.Y8G("ngIf",t.canPunchOut),n.R7$(),n.Y8G("ngIf",t.todayAttendance),n.R7$(29),n.Y8G("ngIf",t.isAdmin),n.R7$(12),n.Y8G("ngForOf",t.announcements),n.R7$(56),n.Y8G("ngIf",t.leaveBalances.length>0)("ngIfElse",i),n.R7$(31),n.JRh(t.celebrations[0].name||"Jenny Wilson"),n.R7$(12),n.JRh(t.celebrations[2].name||"Shivani Pandey"),n.R7$(4),n.Y8G("ngIf",("manager"===(null==t.user?null:t.user.role)||t.isAdmin)&&t.teamMembers.length>0)}},dependencies:[p.MD,p.YU,p.Sq,p.bT,c.W9,c.eU,c.BC,c.ai,c.QW,c.Jm,c.b_,c.I9,c.ME,c.tN,c.iq,c.In,c.To,c.Ki,c.mC],styles:[".dashboard-content[_ngcontent-%COMP%]{--background:#f8f9fa}.dashboard-wrapper[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:20px}.header-toolbar[_ngcontent-%COMP%]{--background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);--color:#fff;--padding-top:10px;--padding-bottom:10px}.header-toolbar[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:700;color:#fff}.header-toolbar[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:4px 0 0;font-size:13px;opacity:.9}.header-toolbar[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{font-size:24px;color:#fff}.header-toolbar[_ngcontent-%COMP%]   .header-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border:2px solid rgba(255,255,255,.3)}.notification-badge[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;min-width:18px;height:18px;font-size:11px}.stats-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:16px;margin-bottom:20px}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:20px;display:flex;align-items:center;gap:16px;box-shadow:0 2px 8px #00000014}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:14px;display:flex;align-items:center;justify-content:center}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:28px;color:#fff}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{flex:1}.stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{margin:0;font-size:13px;color:#64748b;font-weight:500}.stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{margin:6px 0 4px;font-size:28px;font-weight:700;color:#1e293b}.stat-card[_ngcontent-%COMP%]   .stat-change[_ngcontent-%COMP%]{margin:0;font-size:12px;font-weight:500}.stat-card[_ngcontent-%COMP%]   .stat-change.positive[_ngcontent-%COMP%]{color:#10b981}.stat-card[_ngcontent-%COMP%]   .stat-change.neutral[_ngcontent-%COMP%]{color:#64748b}.stat-card.stat-primary[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.stat-card.stat-success[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)}.stat-card.stat-warning[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706)}.stat-card.stat-info[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb)}.attendance-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;margin-bottom:20px;box-shadow:0 2px 8px #00000014}.attendance-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.attendance-card[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 4px;font-size:20px;font-weight:700;color:#1e293b}.attendance-card[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .date-display[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#64748b}.attendance-card[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px;font-weight:600}.attendance-card[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;padding:20px;background:#f8f9fa;border-radius:12px;margin-bottom:20px}.attendance-card[_ngcontent-%COMP%]   .time-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.attendance-card[_ngcontent-%COMP%]   .time-icon[_ngcontent-%COMP%]{font-size:32px}.attendance-card[_ngcontent-%COMP%]   .time-icon.in[_ngcontent-%COMP%]{color:#10b981}.attendance-card[_ngcontent-%COMP%]   .time-icon.out[_ngcontent-%COMP%]{color:#ef4444}.attendance-card[_ngcontent-%COMP%]   .time-icon.total[_ngcontent-%COMP%]{color:#3b82f6}.attendance-card[_ngcontent-%COMP%]   .time-label[_ngcontent-%COMP%]{margin:0;font-size:13px;color:#64748b;font-weight:500}.attendance-card[_ngcontent-%COMP%]   .time-value[_ngcontent-%COMP%]{margin:4px 0 0;font-size:20px;font-weight:700;color:#1e293b}.attendance-card[_ngcontent-%COMP%]   .time-divider[_ngcontent-%COMP%]{width:1px;height:40px;background:#e2e8f0}.attendance-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:12px}.attendance-card[_ngcontent-%COMP%]   .check-btn[_ngcontent-%COMP%]{--border-radius:12px;height:48px;font-weight:600}.attendance-card[_ngcontent-%COMP%]   .check-btn.check-in-btn[_ngcontent-%COMP%]{--background:linear-gradient(135deg,#10b981 0%,#059669 100%)}.attendance-card[_ngcontent-%COMP%]   .check-btn.check-out-btn[_ngcontent-%COMP%]{--background:linear-gradient(135deg,#ef4444 0%,#dc2626 100%)}.attendance-card[_ngcontent-%COMP%]   .quick-action-btns[_ngcontent-%COMP%]{display:flex;gap:8px}.attendance-card[_ngcontent-%COMP%]   .quick-action-btns[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius:12px;--border-width:2px}.content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 400px;gap:20px}@media (max-width: 1024px){.content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.card-header-with-action[_ngcontent-%COMP%], .card-header-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.card-header-with-action[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%], .card-header-flex[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#1e293b}.card-header-with-action[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .card-header-flex[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:#667eea}.card-header-with-action[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%], .card-header-flex[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{font-size:12px;font-weight:600}.card-header-flex[_ngcontent-%COMP%]   .view-link[_ngcontent-%COMP%]{font-size:.85rem;color:var(--ion-color-primary);cursor:pointer;text-decoration:none}.quick-actions-card[_ngcontent-%COMP%], .announcements-card[_ngcontent-%COMP%], .chart-card[_ngcontent-%COMP%], .leave-card[_ngcontent-%COMP%], .leave-balance-card[_ngcontent-%COMP%], .events-card[_ngcontent-%COMP%], .team-card[_ngcontent-%COMP%], .celebrations-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:20px;margin-bottom:20px;box-shadow:0 2px 8px #00000014}.action-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}@media (max-width: 768px){.action-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.action-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;padding:16px;border-radius:12px;background:#f8f9fa;cursor:pointer}.action-icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:14px;display:flex;align-items:center;justify-content:center}.action-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:28px;color:#fff}.action-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;font-weight:600;color:#475569;text-align:center}.admin-actions[_ngcontent-%COMP%]{margin-top:20px;padding-top:20px;border-top:2px dashed #e2e8f0}.action-icon.primary[_ngcontent-%COMP%], .leave-icon.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.action-icon.success[_ngcontent-%COMP%], .leave-icon.success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)}.action-icon.warning[_ngcontent-%COMP%], .leave-icon.warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706)}.action-icon.info[_ngcontent-%COMP%], .leave-icon.info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb)}.action-icon.danger[_ngcontent-%COMP%], .leave-icon.danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626)}.action-icon.secondary[_ngcontent-%COMP%], .leave-icon.secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#7c3aed)}.action-icon.tertiary[_ngcontent-%COMP%], .leave-icon.tertiary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#14b8a6,#0d9488)}.announcement-list[_ngcontent-%COMP%]   .announcement-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:16px;border-radius:12px;background:#f8f9fa;margin-bottom:12px}.announcement-dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;background:#667eea;margin-top:6px;flex-shrink:0}.announcement-content[_ngcontent-%COMP%]{flex:1}.announcement-title[_ngcontent-%COMP%], .announcement-text[_ngcontent-%COMP%]{margin:0 0 6px;font-size:14px;font-weight:600;color:#1e293b}.announcement-time[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#64748b;display:flex;align-items:center;gap:4px}.announcement-time[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}.simple-chart[_ngcontent-%COMP%], .chart-placeholder[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:space-around;gap:12px;height:200px;padding:20px 0}.chart-bar[_ngcontent-%COMP%], .bar[_ngcontent-%COMP%]{flex:1;background:linear-gradient(180deg,#667eea,#764ba2);border-radius:8px 8px 0 0;min-height:20px;position:relative}.bar-value[_ngcontent-%COMP%]{position:absolute;top:-24px;left:50%;transform:translate(-50%);font-size:12px;font-weight:600;color:#475569}.chart-labels[_ngcontent-%COMP%], .chart-label[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:12px;padding-top:12px;border-top:1px solid #e2e8f0}.chart-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .chart-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#64748b;text-align:center}.leave-grid[_ngcontent-%COMP%]{display:grid;gap:16px}@media (min-width: 768px){.leave-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.leave-type-item[_ngcontent-%COMP%], .leave-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px;border-radius:12px;background:#f8f9fa}.leave-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;flex-shrink:0;display:flex;align-items:center;justify-content:center}.leave-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#fff}.leave-info[_ngcontent-%COMP%]{flex:1}.leave-count[_ngcontent-%COMP%]{margin:0 0 4px;font-size:20px;font-weight:700;color:#1e293b}.leave-count[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#94a3b8;font-weight:600}.leave-name[_ngcontent-%COMP%], .leave-label[_ngcontent-%COMP%]{margin:0;font-size:13px;color:#64748b;font-weight:500}.event-list[_ngcontent-%COMP%]   .event-item[_ngcontent-%COMP%]{display:flex;gap:16px;padding:16px;border-radius:12px;margin-bottom:12px}.event-item.holiday[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ef44441a,#ef44440d);border-left:4px solid #ef4444}.event-item.birthday[_ngcontent-%COMP%]{background:linear-gradient(90deg,#10b9811a,#10b9810d);border-left:4px solid #10b981}.event-item.anniversary[_ngcontent-%COMP%]{background:linear-gradient(90deg,#667eea1a,#667eea0d);border-left:4px solid #667eea}.event-date[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:56px;height:56px;border-radius:12px;background:#fff;box-shadow:0 2px 8px #00000014;flex-shrink:0}.event-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#1e293b;line-height:1}.event-date[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#64748b;text-transform:uppercase;margin-top:4px}.event-details[_ngcontent-%COMP%]{flex:1}.event-title[_ngcontent-%COMP%]{margin:0 0 6px;font-size:15px;font-weight:600;color:#1e293b}.event-type[_ngcontent-%COMP%]{margin:0;font-size:13px;color:#64748b;display:flex;align-items:center;gap:6px}.event-type[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.team-member[_ngcontent-%COMP%], .celebration-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;border-radius:12px;margin-bottom:12px;background:#f8f9fa}.member-avatar[_ngcontent-%COMP%], ion-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border:2px solid #fff;box-shadow:0 2px 8px #0000001a}.member-info[_ngcontent-%COMP%], .celebration-info[_ngcontent-%COMP%]{flex:1}.member-name[_ngcontent-%COMP%], .celebration-name[_ngcontent-%COMP%]{margin:0 0 4px;font-size:14px;font-weight:600;color:#1e293b}.member-role[_ngcontent-%COMP%], .celebration-type[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#64748b}.holiday-banner[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b,#ee5a6f);color:#fff;padding:1.5rem;border-radius:12px;position:relative;overflow:hidden}.holiday-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0;line-height:1}.holiday-date[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{margin:.25rem 0 0;opacity:.9}.holiday-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-top:1rem}.holiday-info[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}.holiday-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;font-weight:600}.holiday-decoration[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:10px;display:flex;gap:.5rem}.holiday-decoration[_ngcontent-%COMP%]   .tree[_ngcontent-%COMP%]{font-size:2rem;animation:_ngcontent-%COMP%_sway 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_sway{0%,to{transform:rotate(-2deg)}50%{transform:rotate(2deg)}}.quick-links[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1.5rem}.quick-links[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{flex:1}.overview-card[_ngcontent-%COMP%]   .schedule-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.schedule-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:.75rem;background:var(--ion-color-light);border-radius:8px}.schedule-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.8rem}.schedule-label[_ngcontent-%COMP%]{margin:0;font-weight:600;font-size:.95rem}.schedule-time[_ngcontent-%COMP%]{margin:.25rem 0 0;color:var(--ion-color-medium);font-size:.85rem}"]})}}return a})()}}]);