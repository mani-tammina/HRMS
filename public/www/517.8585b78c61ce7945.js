"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[517],{4517:(T,u,m)=>{m.r(u),m.d(u,{AdminPayrollManagementPage:()=>G});var g=m(467),d=m(177),p=m(4341),r=m(7843),c=m(5873),y=m(2951),_=m(5312),e=m(4438),h=m(1626),M=m(3799);function f(l,i){1&l&&(e.j41(0,"div",18),e.nrm(1,"ion-spinner"),e.j41(2,"p"),e.EFF(3,"Loading payroll runs..."),e.k0s()())}function P(l,i){if(1&l){const n=e.RV6();e.j41(0,"ion-card",19),e.bIt("click",function(){const t=e.eBV(n).$implicit,o=e.XpG(2);return e.Njj(o.viewRunDetails(t.id))}),e.j41(1,"ion-card-content")(2,"div",20)(3,"div")(4,"h3"),e.EFF(5),e.k0s(),e.j41(6,"p",21)(7,"ion-chip",22),e.EFF(8),e.k0s(),e.j41(9,"span",23),e.EFF(10),e.k0s()()(),e.j41(11,"div",24)(12,"h2"),e.EFF(13),e.nI1(14,"number"),e.k0s(),e.j41(15,"p"),e.EFF(16,"Total Payout"),e.k0s()()(),e.j41(17,"div",25)(18,"span",26),e.nrm(19,"ion-icon",27),e.EFF(20),e.nI1(21,"date"),e.k0s(),e.j41(22,"ion-button",28),e.nrm(23,"ion-icon",29),e.EFF(24," View Details "),e.k0s()()()()}if(2&l){const n=i.$implicit,a=e.XpG(2);e.R7$(5),e.Lme("",a.getMonthName(n.month)," ",n.year,""),e.R7$(2),e.Y8G("color",a.getStatusColor(n.status)),e.R7$(),e.SpI(" ",n.status," "),e.R7$(2),e.SpI("",n.slip_count," employees"),e.R7$(3),e.SpI("\u20b9",e.i5U(14,7,n.total_payout,"1.2-2"),""),e.R7$(7),e.SpI(" ",e.i5U(21,10,n.created_at,"MMM dd, yyyy")," ")}}function F(l,i){1&l&&(e.j41(0,"div",30),e.nrm(1,"ion-icon",31),e.j41(2,"h3"),e.EFF(3,"No Payroll Runs"),e.k0s(),e.j41(4,"p"),e.EFF(5,"Generate your first payroll run to get started."),e.k0s()())}function C(l,i){if(1&l){const n=e.RV6();e.j41(0,"div")(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),e.EFF(4,"Generate New Payroll"),e.k0s()(),e.j41(5,"ion-card-content")(6,"ion-grid")(7,"ion-row")(8,"ion-col",9)(9,"ion-item")(10,"ion-select",10),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.generateForm.month,t)||(o.generateForm.month=t),e.Njj(t)}),e.j41(11,"ion-select-option",11),e.EFF(12,"January"),e.k0s(),e.j41(13,"ion-select-option",11),e.EFF(14,"February"),e.k0s(),e.j41(15,"ion-select-option",11),e.EFF(16,"March"),e.k0s(),e.j41(17,"ion-select-option",11),e.EFF(18,"April"),e.k0s(),e.j41(19,"ion-select-option",11),e.EFF(20,"May"),e.k0s(),e.j41(21,"ion-select-option",11),e.EFF(22,"June"),e.k0s(),e.j41(23,"ion-select-option",11),e.EFF(24,"July"),e.k0s(),e.j41(25,"ion-select-option",11),e.EFF(26,"August"),e.k0s(),e.j41(27,"ion-select-option",11),e.EFF(28,"September"),e.k0s(),e.j41(29,"ion-select-option",11),e.EFF(30,"October"),e.k0s(),e.j41(31,"ion-select-option",11),e.EFF(32,"November"),e.k0s(),e.j41(33,"ion-select-option",11),e.EFF(34,"December"),e.k0s()()()(),e.j41(35,"ion-col",9)(36,"ion-item")(37,"ion-input",12),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.generateForm.year,t)||(o.generateForm.year=t),e.Njj(t)}),e.k0s()()()()(),e.j41(38,"ion-button",13),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.generatePayroll())}),e.nrm(39,"ion-icon",14),e.EFF(40," Generate Payroll "),e.k0s()()(),e.DNE(41,f,4,0,"div",15)(42,P,25,13,"ion-card",16)(43,F,6,0,"div",17),e.k0s()}if(2&l){const n=e.XpG();e.R7$(10),e.R50("ngModel",n.generateForm.month),e.R7$(),e.Y8G("value",1),e.R7$(2),e.Y8G("value",2),e.R7$(2),e.Y8G("value",3),e.R7$(2),e.Y8G("value",4),e.R7$(2),e.Y8G("value",5),e.R7$(2),e.Y8G("value",6),e.R7$(2),e.Y8G("value",7),e.R7$(2),e.Y8G("value",8),e.R7$(2),e.Y8G("value",9),e.R7$(2),e.Y8G("value",10),e.R7$(2),e.Y8G("value",11),e.R7$(2),e.Y8G("value",12),e.R7$(4),e.R50("ngModel",n.generateForm.year),e.Y8G("min",2020)("max",2030),e.R7$(),e.Y8G("disabled",n.loading),e.R7$(3),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("ngForOf",n.payrollRuns),e.R7$(),e.Y8G("ngIf",!n.loading&&0===n.payrollRuns.length)}}function x(l,i){1&l&&(e.j41(0,"div",18),e.nrm(1,"ion-spinner"),e.j41(2,"p"),e.EFF(3,"Loading payslips..."),e.k0s()())}function j(l,i){if(1&l){const n=e.RV6();e.j41(0,"ion-card",19),e.bIt("click",function(){const t=e.eBV(n).$implicit,o=e.XpG(2);return e.Njj(o.viewPayslip(t.id))}),e.j41(1,"ion-card-content")(2,"div",32)(3,"div",33)(4,"ion-avatar"),e.nrm(5,"img",34),e.k0s(),e.j41(6,"div")(7,"h3"),e.EFF(8),e.k0s(),e.j41(9,"p"),e.EFF(10),e.k0s()()(),e.j41(11,"div",35)(12,"h3"),e.EFF(13),e.nI1(14,"number"),e.k0s(),e.j41(15,"ion-chip",22),e.EFF(16),e.k0s()()(),e.j41(17,"div",36)(18,"div",37)(19,"span",38),e.EFF(20,"Gross:"),e.k0s(),e.j41(21,"span",39),e.EFF(22),e.nI1(23,"number"),e.k0s()(),e.j41(24,"div",37)(25,"span",38),e.EFF(26,"Deductions:"),e.k0s(),e.j41(27,"span",39),e.EFF(28),e.nI1(29,"number"),e.k0s()(),e.j41(30,"div",37)(31,"span",38),e.EFF(32,"Days Worked:"),e.k0s(),e.j41(33,"span",39),e.EFF(34),e.k0s()()()()()}if(2&l){const n=i.$implicit,a=e.XpG(2);e.R7$(5),e.Y8G("src","assets/images/default-avatar.png",e.B4B),e.R7$(3),e.Lme("",n.FirstName," ",n.LastName,""),e.R7$(2),e.Lme("",a.getMonthName(n.month)," ",n.year,""),e.R7$(3),e.SpI("\u20b9",e.i5U(14,12,n.net_salary,"1.2-2"),""),e.R7$(2),e.Y8G("color",a.getStatusColor(n.status)),e.R7$(),e.SpI(" ",n.status," "),e.R7$(6),e.SpI("\u20b9",e.i5U(23,15,n.gross_salary,"1.2-2"),""),e.R7$(6),e.SpI("\u20b9",e.i5U(29,18,n.total_deductions,"1.2-2"),""),e.R7$(6),e.Lme("",n.days_worked," / ",n.days_in_month,"")}}function b(l,i){1&l&&(e.j41(0,"div",30),e.nrm(1,"ion-icon",40),e.j41(2,"h3"),e.EFF(3,"No Payslips"),e.k0s(),e.j41(4,"p"),e.EFF(5,"Generate payroll to create payslips."),e.k0s()())}function k(l,i){if(1&l&&(e.j41(0,"div"),e.DNE(1,x,4,0,"div",15)(2,j,35,21,"ion-card",16)(3,b,6,0,"div",17),e.k0s()),2&l){const n=e.XpG();e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("ngForOf",n.allPayslips),e.R7$(),e.Y8G("ngIf",!n.loading&&0===n.allPayslips.length)}}function v(l,i){if(1&l){const n=e.RV6();e.j41(0,"ion-card")(1,"ion-card-content")(2,"div",44)(3,"div",33)(4,"ion-avatar"),e.nrm(5,"img",34),e.k0s(),e.j41(6,"div")(7,"h3"),e.EFF(8),e.k0s(),e.j41(9,"p"),e.EFF(10),e.k0s()()(),e.j41(11,"ion-button",45),e.bIt("click",function(){const t=e.eBV(n).$implicit,o=e.XpG(2);return e.Njj(o.openSalaryStructureModal(t))}),e.nrm(12,"ion-icon",46),e.EFF(13," Setup Salary "),e.k0s()()()()}if(2&l){const n=i.$implicit;e.R7$(5),e.Y8G("src","assets/images/default-avatar.png",e.B4B),e.R7$(3),e.Lme("",n.FirstName," ",n.LastName,""),e.R7$(2),e.JRh(n.Designation)}}function O(l,i){1&l&&(e.j41(0,"div",30),e.nrm(1,"ion-icon",47),e.j41(2,"h3"),e.EFF(3,"No Employees"),e.k0s(),e.j41(4,"p"),e.EFF(5,"Add employees to setup salary structures."),e.k0s()())}function E(l,i){if(1&l){const n=e.RV6();e.j41(0,"div")(1,"div",41)(2,"ion-button",42),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.openSalaryStructureModal())}),e.nrm(3,"ion-icon",14),e.EFF(4," Add Salary Structure "),e.k0s()(),e.DNE(5,v,14,4,"ion-card",43)(6,O,6,0,"div",17),e.k0s()}if(2&l){const n=e.XpG();e.R7$(5),e.Y8G("ngForOf",n.employees),e.R7$(),e.Y8G("ngIf",!n.loading&&0===n.employees.length)}}function R(l,i){if(1&l&&(e.j41(0,"ion-select-option",11),e.EFF(1),e.k0s()),2&l){const n=i.$implicit;e.Y8G("value",n.id),e.R7$(),e.Lme(" ",n.FirstName," ",n.LastName," ")}}function S(l,i){if(1&l){const n=e.RV6();e.j41(0,"ion-item")(1,"ion-select",62),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG(2);return e.DH7(o.salaryForm.employee_id,t)||(o.salaryForm.employee_id=t),e.Njj(t)}),e.DNE(2,R,2,3,"ion-select-option",63),e.k0s()()}if(2&l){const n=e.XpG(2);e.R7$(),e.R50("ngModel",n.salaryForm.employee_id),e.R7$(),e.Y8G("ngForOf",n.employees)}}function A(l,i){if(1&l){const n=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Salary Structure"),e.k0s(),e.j41(4,"ion-buttons",48)(5,"ion-button",19),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.showSalaryModal=!1)}),e.EFF(6,"Close"),e.k0s()()()(),e.j41(7,"ion-content")(8,"ion-list"),e.DNE(9,S,3,2,"ion-item",7),e.j41(10,"ion-item-divider")(11,"ion-label"),e.EFF(12,"Earnings"),e.k0s()(),e.j41(13,"ion-item")(14,"ion-input",49),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.salaryForm.basic,t)||(o.salaryForm.basic=t),e.Njj(t)}),e.bIt("ionChange",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.calculateSalary())}),e.k0s()(),e.j41(15,"ion-item")(16,"ion-input",50),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.salaryForm.hra,t)||(o.salaryForm.hra=t),e.Njj(t)}),e.bIt("ionChange",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.calculateSalary())}),e.k0s()(),e.j41(17,"ion-item")(18,"ion-input",51),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.salaryForm.conveyance,t)||(o.salaryForm.conveyance=t),e.Njj(t)}),e.bIt("ionChange",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.calculateSalary())}),e.k0s()(),e.j41(19,"ion-item")(20,"ion-input",52),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.salaryForm.special_allowance,t)||(o.salaryForm.special_allowance=t),e.Njj(t)}),e.bIt("ionChange",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.calculateSalary())}),e.k0s()(),e.j41(21,"ion-item-divider")(22,"ion-label"),e.EFF(23,"Deductions"),e.k0s()(),e.j41(24,"ion-item")(25,"ion-input",53),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.salaryForm.pf,t)||(o.salaryForm.pf=t),e.Njj(t)}),e.bIt("ionChange",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.calculateSalary())}),e.k0s()(),e.j41(26,"ion-item")(27,"ion-input",54),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.salaryForm.esi,t)||(o.salaryForm.esi=t),e.Njj(t)}),e.bIt("ionChange",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.calculateSalary())}),e.k0s()(),e.j41(28,"ion-item")(29,"ion-input",55),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.salaryForm.professional_tax,t)||(o.salaryForm.professional_tax=t),e.Njj(t)}),e.bIt("ionChange",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.calculateSalary())}),e.k0s()(),e.j41(30,"ion-item")(31,"ion-input",56),e.mxI("ngModelChange",function(t){e.eBV(n);const o=e.XpG();return e.DH7(o.salaryForm.other_deductions,t)||(o.salaryForm.other_deductions=t),e.Njj(t)}),e.bIt("ionChange",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.calculateSalary())}),e.k0s()(),e.j41(32,"ion-item-divider")(33,"ion-label"),e.EFF(34,"Summary"),e.k0s()(),e.j41(35,"ion-item")(36,"ion-label")(37,"h2"),e.EFF(38,"Gross Salary"),e.k0s(),e.j41(39,"h3",57),e.EFF(40),e.nI1(41,"number"),e.k0s()()(),e.j41(42,"ion-item")(43,"ion-label")(44,"h2"),e.EFF(45,"Net Salary"),e.k0s(),e.j41(46,"h3",58),e.EFF(47),e.nI1(48,"number"),e.k0s()()()(),e.j41(49,"div",59)(50,"ion-button",60),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.saveSalaryStructure())}),e.nrm(51,"ion-icon",61),e.EFF(52," Save Salary Structure "),e.k0s()()()}if(2&l){const n=e.XpG();e.R7$(9),e.Y8G("ngIf",!n.salaryForm.employee_id),e.R7$(5),e.R50("ngModel",n.salaryForm.basic),e.R7$(2),e.R50("ngModel",n.salaryForm.hra),e.R7$(2),e.R50("ngModel",n.salaryForm.conveyance),e.R7$(2),e.R50("ngModel",n.salaryForm.special_allowance),e.R7$(5),e.R50("ngModel",n.salaryForm.pf),e.R7$(2),e.R50("ngModel",n.salaryForm.esi),e.R7$(2),e.R50("ngModel",n.salaryForm.professional_tax),e.R7$(2),e.R50("ngModel",n.salaryForm.other_deductions),e.R7$(9),e.SpI("\u20b9",e.i5U(41,11,n.salaryForm.gross_salary,"1.2-2"),""),e.R7$(7),e.SpI("\u20b9",e.i5U(48,14,n.salaryForm.net_salary,"1.2-2"),"")}}let G=(()=>{class l{constructor(n,a,t,o){this.http=n,this.router=a,this.alertController=t,this.toastController=o,this.selectedSegment="runs",this.payrollRuns=[],this.allPayslips=[],this.employees=[],this.salaryStructures=[],this.payrollDefaults={},this.loading=!1,this.generateForm={month:(new Date).getMonth()+1,year:(new Date).getFullYear()},this.salaryForm={employee_id:null,basic:0,hra:0,conveyance:0,special_allowance:0,pf:0,esi:0,professional_tax:0,other_deductions:0,gross_salary:0,net_salary:0},this.showSalaryModal=!1,(0,y.d)({cash:c.Kds,people:c.c05,documentText:c.ZHo,calendar:c.BJj,barChart:c.S9W,addCircle:c.YH_,download:c.RGh,lockClosed:c.AaQ,lockOpen:c.cYg,refresh:c.OwL,eye:c.y5U,create:c.vtF,checkmarkCircle:c.AUS})}ngOnInit(){this.loadData(),this.loadEmployees(),this.loadPayrollDefaults()}ionViewWillEnter(){this.loadData()}loadData(){"runs"===this.selectedSegment?this.loadPayrollRuns():"slips"===this.selectedSegment?this.loadAllPayslips():"structures"===this.selectedSegment&&this.loadSalaryStructures()}segmentChanged(n){this.selectedSegment=n.detail.value,this.loadData()}loadPayrollRuns(){this.loading=!0;const n=localStorage.getItem("token");this.http.get(`${_.c.apiUrl}/payroll/runs`,{headers:{Authorization:`Bearer ${n}`}}).subscribe({next:a=>{this.payrollRuns=a,this.loading=!1},error:a=>{console.error("Error loading payroll runs:",a),this.loading=!1}})}loadAllPayslips(){this.loading=!0;const n=localStorage.getItem("token");this.http.get(`${_.c.apiUrl}/payroll/slips/all`,{headers:{Authorization:`Bearer ${n}`}}).subscribe({next:a=>{this.allPayslips=a,this.loading=!1},error:a=>{console.error("Error loading payslips:",a),this.loading=!1}})}loadSalaryStructures(){this.loading=!0,this.loadEmployees(),this.loading=!1}loadEmployees(){const n=localStorage.getItem("token");this.http.get(`${_.c.apiUrl}/employees`,{headers:{Authorization:`Bearer ${n}`}}).subscribe({next:a=>{this.employees=a},error:a=>{console.error("Error loading employees:",a)}})}loadPayrollDefaults(){const n=localStorage.getItem("token");this.http.get(`${_.c.apiUrl}/payroll/defaults`,{headers:{Authorization:`Bearer ${n}`}}).subscribe({next:a=>{this.payrollDefaults=a},error:a=>{console.error("Error loading payroll defaults:",a)}})}generatePayroll(){var n=this;return(0,g.A)(function*(){yield(yield n.alertController.create({header:"Generate Payroll",message:`Generate payroll for ${n.getMonthName(n.generateForm.month)} ${n.generateForm.year}?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Generate",handler:()=>{n.performPayrollGeneration()}}]})).present()})()}performPayrollGeneration(){var n=this;this.loading=!0;const a=localStorage.getItem("token");var t;this.http.post(`${_.c.apiUrl}/payroll/generate`,this.generateForm,{headers:{Authorization:`Bearer ${a}`}}).subscribe({next:(t=(0,g.A)(function*(o){n.loading=!1,yield(yield n.toastController.create({message:`Payroll generated successfully! Processed ${o.processed} employees.`,duration:3e3,color:"success"})).present(),n.loadPayrollRuns()}),function(s){return t.apply(this,arguments)}),error:function(){var t=(0,g.A)(function*(o){console.error("Error generating payroll:",o),n.loading=!1,yield(yield n.toastController.create({message:"Failed to generate payroll",duration:3e3,color:"danger"})).present()});return function(s){return t.apply(this,arguments)}}()})}viewRunDetails(n){this.router.navigate(["/payroll-run-details",n])}viewPayslip(n){this.router.navigate(["/payslip",n])}openSalaryStructureModal(n){if(n){const a=localStorage.getItem("token");this.http.get(`${_.c.apiUrl}/payroll/salary/structure/${n.id}`,{headers:{Authorization:`Bearer ${a}`}}).subscribe({next:t=>{this.salaryForm=t?{...t,employee_id:n.id}:{employee_id:n.id},this.showSalaryModal=!0},error:t=>{console.error("Error loading salary structure:",t),this.salaryForm={employee_id:n.id},this.showSalaryModal=!0}})}else this.salaryForm={employee_id:null,basic:0,hra:0,conveyance:0,special_allowance:0,pf:0,esi:0,professional_tax:0,other_deductions:0},this.showSalaryModal=!0}calculateSalary(){const n=parseFloat(this.salaryForm.basic||0),a=parseFloat(this.salaryForm.hra||0),t=parseFloat(this.salaryForm.conveyance||0),o=parseFloat(this.salaryForm.special_allowance||0),s=parseFloat(this.salaryForm.pf||0),I=parseFloat(this.salaryForm.esi||0),D=parseFloat(this.salaryForm.professional_tax||0),$=parseFloat(this.salaryForm.other_deductions||0);this.salaryForm.gross_salary=n+a+t+o,this.salaryForm.net_salary=this.salaryForm.gross_salary-(s+I+D+$)}saveSalaryStructure(){var n=this;return(0,g.A)(function*(){if(!n.salaryForm.employee_id)return void(yield(yield n.toastController.create({message:"Please select an employee",duration:2e3,color:"warning"})).present());const a=localStorage.getItem("token");var t;n.http.post(`${_.c.apiUrl}/payroll/salary/structure/${n.salaryForm.employee_id}`,n.salaryForm,{headers:{Authorization:`Bearer ${a}`}}).subscribe({next:(t=(0,g.A)(function*(){yield(yield n.toastController.create({message:"Salary structure saved successfully",duration:2e3,color:"success"})).present(),n.showSalaryModal=!1,n.loadSalaryStructures()}),function(){return t.apply(this,arguments)}),error:function(){var t=(0,g.A)(function*(o){console.error("Error saving salary structure:",o),yield(yield n.toastController.create({message:"Failed to save salary structure",duration:2e3,color:"danger"})).present()});return function(s){return t.apply(this,arguments)}}()})})()}getMonthName(n){return["January","February","March","April","May","June","July","August","September","October","November","December"][n-1]}getStatusColor(n){switch(n?.toLowerCase()){case"completed":case"paid":return"success";case"processing":return"warning";case"generated":return"primary";default:return"medium"}}handleRefresh(n){this.loadData(),setTimeout(()=>{n.target.complete()},1e3)}static{this.\u0275fac=function(a){return new(a||l)(e.rXU(h.Qq),e.rXU(M.Ix),e.rXU(r.hG),e.rXU(r.K_))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-admin-payroll-management"]],standalone:!0,features:[e.aNF],decls:25,vars:5,consts:[["slot","start"],["defaultHref","/tabs/home"],[3,"ngModelChange","ionChange","ngModel"],["value","runs"],["value","slips"],["value","structures"],["slot","fixed",3,"ionRefresh"],[4,"ngIf"],[3,"didDismiss","isOpen"],["size","6"],["label","Month","label-placement","stacked",3,"ngModelChange","ngModel"],[3,"value"],["type","number","label","Year","label-placement","stacked",3,"ngModelChange","ngModel","min","max"],["expand","block",3,"click","disabled"],["name","add-circle","slot","start"],["class","loading-container",4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"loading-container"],[3,"click"],[1,"run-header"],[1,"run-meta"],["size","small",3,"color"],[1,"slip-count"],[1,"run-amount"],[1,"run-footer"],[1,"run-date"],["name","calendar"],["fill","clear","size","small"],["name","eye","slot","start"],[1,"empty-state"],["name","document-text","color","medium"],[1,"slip-header"],[1,"employee-info"],["alt","Employee",3,"src"],[1,"slip-amount"],[1,"slip-details"],[1,"detail-item"],[1,"label"],[1,"value"],["name","cash","color","medium"],[1,"fab-container"],["color","primary",3,"click"],[4,"ngFor","ngForOf"],[1,"employee-card"],["fill","outline","size","small",3,"click"],["name","create","slot","start"],["name","people","color","medium"],["slot","end"],["type","number","label","Basic Salary","label-placement","stacked",3,"ngModelChange","ionChange","ngModel"],["type","number","label","HRA","label-placement","stacked",3,"ngModelChange","ionChange","ngModel"],["type","number","label","Conveyance","label-placement","stacked",3,"ngModelChange","ionChange","ngModel"],["type","number","label","Special Allowance","label-placement","stacked",3,"ngModelChange","ionChange","ngModel"],["type","number","label","PF","label-placement","stacked",3,"ngModelChange","ionChange","ngModel"],["type","number","label","ESI","label-placement","stacked",3,"ngModelChange","ionChange","ngModel"],["type","number","label","Professional Tax","label-placement","stacked",3,"ngModelChange","ionChange","ngModel"],["type","number","label","Other Deductions","label-placement","stacked",3,"ngModelChange","ionChange","ngModel"],[1,"salary-amount"],[1,"salary-amount","salary-net"],[1,"modal-footer"],["expand","block",3,"click"],["name","checkmark-circle","slot","start"],["label","Employee","label-placement","stacked",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"]],template:function(a,t){1&a&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e.nrm(3,"ion-back-button",1),e.k0s(),e.j41(4,"ion-title"),e.EFF(5,"Payroll Management"),e.k0s()(),e.j41(6,"ion-toolbar")(7,"ion-segment",2),e.mxI("ngModelChange",function(s){return e.DH7(t.selectedSegment,s)||(t.selectedSegment=s),s}),e.bIt("ionChange",function(s){return t.segmentChanged(s)}),e.j41(8,"ion-segment-button",3)(9,"ion-label"),e.EFF(10,"Payroll Runs"),e.k0s()(),e.j41(11,"ion-segment-button",4)(12,"ion-label"),e.EFF(13,"Payslips"),e.k0s()(),e.j41(14,"ion-segment-button",5)(15,"ion-label"),e.EFF(16,"Salary Setup"),e.k0s()()()()(),e.j41(17,"ion-content")(18,"ion-refresher",6),e.bIt("ionRefresh",function(s){return t.handleRefresh(s)}),e.nrm(19,"ion-refresher-content"),e.k0s(),e.DNE(20,C,44,20,"div",7)(21,k,4,3,"div",7)(22,E,7,2,"div",7),e.j41(23,"ion-modal",8),e.bIt("didDismiss",function(){return t.showSalaryModal=!1}),e.DNE(24,A,53,17,"ng-template"),e.k0s()()),2&a&&(e.R7$(7),e.R50("ngModel",t.selectedSegment),e.R7$(13),e.Y8G("ngIf","runs"===t.selectedSegment),e.R7$(),e.Y8G("ngIf","slips"===t.selectedSegment),e.R7$(),e.Y8G("ngIf","structures"===t.selectedSegment),e.R7$(),e.Y8G("isOpen",t.showSalaryModal))},dependencies:[d.MD,d.Sq,d.bT,d.QX,d.vh,p.YN,p.BC,p.vS,r.eU,r.ai,r.BC,r.W9,r.Gp,r.eP,r.he,r.b_,r.ME,r.tN,r.I9,r.nf,r.uz,r.iq,r.Jm,r.QW,r.el,r.ZB,r.mC,r.Nm,r.Ip,r.To,r.Ki,r.w2,r.$w,r.lO,r.ln,r.hU,r.Sb,r.Dg],styles:[".run-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px}.run-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:18px;font-weight:600;color:var(--ion-color-dark)}.run-header[_ngcontent-%COMP%]   .run-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin:0}.run-header[_ngcontent-%COMP%]   .run-meta[_ngcontent-%COMP%]   .slip-count[_ngcontent-%COMP%]{font-size:13px;color:var(--ion-color-medium)}.run-header[_ngcontent-%COMP%]   .run-amount[_ngcontent-%COMP%]{text-align:right}.run-header[_ngcontent-%COMP%]   .run-amount[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:700;color:var(--ion-color-success)}.run-header[_ngcontent-%COMP%]   .run-amount[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:12px;color:var(--ion-color-medium)}.run-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:12px;border-top:1px solid var(--ion-color-light)}.run-footer[_ngcontent-%COMP%]   .run-date[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:13px;color:var(--ion-color-medium)}.run-footer[_ngcontent-%COMP%]   .run-date[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.slip-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px}.slip-header[_ngcontent-%COMP%]   .employee-info[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}.slip-header[_ngcontent-%COMP%]   .employee-info[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:48px;height:48px}.slip-header[_ngcontent-%COMP%]   .employee-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--ion-color-dark)}.slip-header[_ngcontent-%COMP%]   .employee-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:13px;color:var(--ion-color-medium)}.slip-header[_ngcontent-%COMP%]   .slip-amount[_ngcontent-%COMP%]{text-align:right}.slip-header[_ngcontent-%COMP%]   .slip-amount[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 6px;font-size:18px;font-weight:700;color:var(--ion-color-success)}.slip-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;padding-top:12px;border-top:1px solid var(--ion-color-light)}.slip-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.slip-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;color:var(--ion-color-medium);margin-bottom:4px}.slip-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--ion-color-dark)}.employee-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.employee-card[_ngcontent-%COMP%]   .employee-info[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;flex:1}.employee-card[_ngcontent-%COMP%]   .employee-info[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:48px;height:48px}.employee-card[_ngcontent-%COMP%]   .employee-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--ion-color-dark)}.employee-card[_ngcontent-%COMP%]   .employee-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:13px;color:var(--ion-color-medium)}.fab-container[_ngcontent-%COMP%]{padding:16px}.fab-container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px}.loading-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin-bottom:16px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium)}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 40px;text-align:center}.empty-state[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:80px;margin-bottom:20px;opacity:.3}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font-size:20px;color:var(--ion-color-medium-shade)}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--ion-color-medium);max-width:300px}ion-card[_ngcontent-%COMP%]{margin:12px 16px;cursor:pointer;transition:transform .2s}ion-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.modal-footer[_ngcontent-%COMP%]{padding:16px}.salary-amount[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--ion-color-primary);margin-top:8px}.salary-amount.salary-net[_ngcontent-%COMP%]{color:var(--ion-color-success)}ion-item-divider[_ngcontent-%COMP%]{--background: var(--ion-color-light);margin-top:16px}ion-item-divider[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:600;color:var(--ion-color-dark)}"]})}}return l})()}}]);