"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[99],{5099:(h,g,i)=>{i.r(g),i.d(g,{LeavesPage:()=>M});var t=i(9907),l=i(177),_=i(2951),r=i(5873),e=i(4438),d=i(7599),m=i(3799);function u(a,s){if(1&a&&(e.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e.EFF(3,"Leave Balance"),e.k0s()(),e.j41(4,"ion-card-content")(5,"div",8)(6,"div",9)(7,"p",10),e.EFF(8,"Total"),e.k0s(),e.j41(9,"p",11),e.EFF(10),e.k0s()(),e.j41(11,"div",9)(12,"p",10),e.EFF(13,"Used"),e.k0s(),e.j41(14,"p",12),e.EFF(15),e.k0s()(),e.j41(16,"div",9)(17,"p",10),e.EFF(18,"Available"),e.k0s(),e.j41(19,"p",13),e.EFF(20),e.k0s()(),e.j41(21,"div",9)(22,"p",10),e.EFF(23,"Pending"),e.k0s(),e.j41(24,"p",14),e.EFF(25),e.k0s()()()()()),2&a){const n=e.XpG();e.R7$(10),e.JRh(n.leaveBalance.total||0),e.R7$(5),e.JRh(n.leaveBalance.used||0),e.R7$(5),e.JRh(n.leaveBalance.available||0),e.R7$(5),e.JRh(n.leaveBalance.pending||0)}}function v(a,s){if(1&a){const n=e.RV6();e.j41(0,"ion-card")(1,"ion-card-content",15),e.nrm(2,"ion-icon",16),e.j41(3,"p"),e.EFF(4,"No leave requests found"),e.k0s(),e.j41(5,"ion-button",6),e.bIt("click",function(){e.eBV(n);const c=e.XpG();return e.Njj(c.requestLeave())}),e.EFF(6," Request Leave "),e.k0s()()()}}function p(a,s){if(1&a&&(e.j41(0,"ion-item",18),e.nrm(1,"ion-icon",19),e.j41(2,"ion-label")(3,"h3"),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"date"),e.nI1(8,"date"),e.k0s(),e.j41(9,"p"),e.EFF(10),e.k0s()(),e.j41(11,"ion-badge",20),e.EFF(12),e.nI1(13,"titlecase"),e.k0s()()),2&a){const n=s.$implicit,o=e.XpG(2);e.R7$(),e.Y8G("name",o.getStatusIcon(n.status))("color",o.getStatusColor(n.status)),e.R7$(3),e.JRh(n.type_name||n.leaveType||"Leave"),e.R7$(2),e.Lme("",e.i5U(7,9,n.start_date,"MMM d")," - ",e.i5U(8,12,n.end_date,"MMM d, y"),""),e.R7$(4),e.Lme("",n.total_days||n.days," day(s) \u2022 ",n.reason,""),e.R7$(),e.Y8G("color",o.getStatusColor(n.status)),e.R7$(),e.SpI(" ",e.bMT(13,15,n.status)," ")}}function P(a,s){if(1&a&&(e.j41(0,"ion-card")(1,"ion-list"),e.DNE(2,p,14,17,"ion-item",17),e.k0s()()),2&a){const n=e.XpG();e.R7$(2),e.Y8G("ngForOf",n.leaves)}}let M=(()=>{class a{constructor(n,o){this.leaveService=n,this.router=o,this.leaves=[],this.leaveBalance=null,(0,_.d)({addOutline:r.EKF,documentTextOutline:r.pXZ,checkmarkCircleOutline:r.gz2,closeCircleOutline:r.p9N,timeOutline:r.CVk})}ngOnInit(){this.loadData()}loadData(){this.leaveService.getLeaves().subscribe({next:n=>this.leaves=n}),this.leaveService.getLeaveBalance().subscribe({next:n=>this.leaveBalance=n})}handleRefresh(n){this.loadData(),setTimeout(()=>n.target.complete(),1e3)}getStatusColor(n){return{pending:"warning",approved:"success",rejected:"danger"}[n]||"medium"}getStatusIcon(n){return{pending:"time-outline",approved:"checkmark-circle-outline",rejected:"close-circle-outline"}[n]||"time-outline"}requestLeave(){this.router.navigate(["/leave-request"])}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(d.P),e.rXU(m.Ix))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-leaves"]],standalone:!0,features:[e.aNF],decls:17,vars:4,consts:[[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],[1,"leaves-container"],[4,"ngIf"],[1,"section-title"],["slot","fixed","vertical","bottom","horizontal","end"],[3,"click"],["name","add-outline"],[1,"balance-grid"],[1,"balance-item"],[1,"label"],[1,"value"],[1,"value","used"],[1,"value","available"],[1,"value","pending"],[1,"empty-state"],["name","document-text-outline","size","large"],["lines","full",4,"ngFor","ngForOf"],["lines","full"],["slot","start",3,"name","color"],["slot","end",3,"color"]],template:function(o,c){1&o&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Leave Management"),e.k0s()()(),e.j41(4,"ion-content",0)(5,"ion-refresher",1),e.bIt("ionRefresh",function(f){return c.handleRefresh(f)}),e.nrm(6,"ion-refresher-content"),e.k0s(),e.j41(7,"div",2),e.DNE(8,u,26,4,"ion-card",3),e.j41(9,"div",4)(10,"h2"),e.EFF(11,"Leave Requests"),e.k0s()(),e.DNE(12,v,7,0,"ion-card",3)(13,P,3,1,"ion-card",3),e.k0s(),e.j41(14,"ion-fab",5)(15,"ion-fab-button",6),e.bIt("click",function(){return c.requestLeave()}),e.nrm(16,"ion-icon",7),e.k0s()()()),2&o&&(e.R7$(4),e.Y8G("fullscreen",!0),e.R7$(4),e.Y8G("ngIf",c.leaveBalance),e.R7$(4),e.Y8G("ngIf",0===c.leaves.length),e.R7$(),e.Y8G("ngIf",c.leaves.length>0))},dependencies:[l.MD,l.Sq,l.bT,l.PV,l.vh,t.W9,t.eU,t.BC,t.ai,t.Jm,t.b_,t.I9,t.ME,t.tN,t.nf,t.uz,t.he,t.In,t.iq,t.Q8,t.YW,t.To,t.Ki],styles:[".leaves-container[_ngcontent-%COMP%]{padding:1rem;padding-bottom:80px;max-width:1200px;margin:0 auto}.balance-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;text-align:center}.balance-grid[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.8rem;color:var(--ion-color-medium);margin:0 0 .5rem}.balance-grid[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin:0;color:var(--ion-color-primary)}.balance-grid[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .value.used[_ngcontent-%COMP%]{color:var(--ion-color-danger)}.balance-grid[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .value.available[_ngcontent-%COMP%]{color:var(--ion-color-success)}.balance-grid[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .value.pending[_ngcontent-%COMP%]{color:var(--ion-color-warning)}.section-title[_ngcontent-%COMP%]{margin:1.5rem 0 1rem}.section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin:0}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem}.empty-state[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin-bottom:1.5rem}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.25rem}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem;color:var(--ion-color-medium);margin:.25rem 0}"]})}}return a})()}}]);