"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[76],{4086:(v,u,r)=>{r.d(u,{p:()=>c});var o=r(5312),p=r(4438),h=r(1626);let c=(()=>{class s{constructor(a){this.http=a,this.apiUrl=`${o.c.apiUrl}/admin/timesheet`}getDashboard(a,e,t,i){let n={};return a&&(n.startDate=a),e&&(n.endDate=e),t&&(n.projectId=t.toString()),i&&(n.complianceStatus=i),this.http.get(`${this.apiUrl}/dashboard`,{params:n})}getNonCompliantEmployees(a,e,t){let i={};return a&&(i.date=a),e&&(i.projectId=e.toString()),t&&(i.complianceType=t),this.http.get(`${this.apiUrl}/non-compliant-employees`,{params:i})}getVerificationQueue(a,e,t,i){let n={};return a&&(n.status=a),e&&(n.projectId=e.toString()),t&&(n.startDate=t),i&&(n.endDate=i),this.http.get(`${this.apiUrl}/verification-queue`,{params:n})}getComparisonData(a){return this.http.get(`${this.apiUrl}/comparison/${a}`)}verifyWorkUpdate(a){return this.http.post(`${this.apiUrl}/verify`,a)}bulkVerify(a){return this.http.post(`${this.apiUrl}/bulk-verify`,a)}getPayrollStatus(a){let e={};return a&&(e.payrollPeriod=a),this.http.get(`${this.apiUrl}/payroll-status`,{params:e})}lockPayrollPeriod(a){return this.http.post(`${this.apiUrl}/lock-payroll-period`,{payrollPeriod:a})}downloadTimesheet(a){return this.http.get(`${this.apiUrl}/download/${a}`,{responseType:"blob"})}static{this.\u0275fac=function(e){return new(e||s)(p.KVO(h.Qq))}}static{this.\u0275prov=p.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})()},1963:(v,u,r)=>{r.d(u,{$:()=>s});var o=r(6354),p=r(5312),h=r(4438),c=r(1626);let s=(()=>{class l{constructor(e){this.http=e,this.apiUrl=`${p.c.apiUrl}/attendance`}getAttendance(e,t){const i={};return e&&(i.startDate=e),t&&(i.endDate=t),console.log("AttendanceService: Fetching attendance with params:",i),this.http.get(`${this.apiUrl}/me`,{params:i})}punchIn(e,t,i){return console.log("AttendanceService: Punching in with work mode:",e),this.http.post(`${this.apiUrl}/punch-in`,{work_mode:e||"Office",location:t,notes:i})}punchOut(e){return console.log("AttendanceService: Punching out"),this.http.post(`${this.apiUrl}/punch-out`,{notes:e})}getTodayStatus(){return console.log("AttendanceService: Fetching today status"),this.http.get(`${this.apiUrl}/today`)}getTodayAttendance(){return console.log("AttendanceService: Fetching today attendance"),this.http.get(`${this.apiUrl}/today`).pipe((0,o.T)(e=>(console.log("AttendanceService: Today attendance response:",e),e.has_attendance?e.attendance:null)))}getMonthlyReport(e,t){return this.http.get(`${this.apiUrl}/report/monthly`,{params:{month:e,year:t}})}static{this.\u0275fac=function(t){return new(t||l)(h.KVO(c.Qq))}}static{this.\u0275prov=h.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})()},6437:(v,u,r)=>{r.d(u,{O:()=>l});var o=r(6354),p=r(5312);var c=r(4438),s=r(1626);let l=(()=>{class a{constructor(t){this.http=t,this.apiUrl=`${p.c.apiUrl}/employees`}getEmployees(){return this.http.get(this.apiUrl).pipe((0,o.T)(t=>t.map(i=>this.transformEmployee(i))))}transformEmployee(t){return{id:t.id?.toString()||"",name:`${t.FirstName||""} ${t.LastName||""}`.trim()||"N/A",email:t.WorkEmail||t.PersonalEmail||"N/A",phone:t.ContactNumber||t.MobileNumber,department:t.Department||"N/A",position:t.Designation||"N/A",joinDate:t.DateOfJoining||t.created_at,avatar:t.ProfilePicture||"assets/avatar-placeholder.png",status:"Active"===t.EmployeeStatus?"active":"inactive"}}getEmployee(t){return this.http.get(`${this.apiUrl}/${t}`)}getEmployeeDetails(t){return this.http.get(`${this.apiUrl}/${t}/details`)}createEmployee(t){return this.http.post(this.apiUrl,t)}updateEmployee(t,i){return this.http.put(`${this.apiUrl}/${t}`,i)}deleteEmployee(t){return this.http.delete(`${this.apiUrl}/${t}`)}getTeamMembers(t){return this.http.get(`${this.apiUrl}/reporting/${t}`).pipe((0,o.T)(i=>i.map(n=>this.transformEmployee(n))))}getMyProfile(){return this.http.get(`${this.apiUrl}/profile/me`)}static{this.\u0275fac=function(i){return new(i||a)(c.KVO(s.Qq))}}static{this.\u0275prov=c.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})()},7097:(v,u,r)=>{r.d(u,{c:()=>c});var o=r(5312),p=r(4438),h=r(1626);let c=(()=>{class s{constructor(a){this.http=a,this.apiUrl=`${o.c.apiUrl}/leave`}getLeavePlans(){return console.log("LeavePlanService: Calling GET",`${this.apiUrl}/plans`),this.http.get(`${this.apiUrl}/plans`)}getLeavePlan(a){return this.http.get(`${this.apiUrl}/plans/${a}`)}createLeavePlan(a){return this.http.post(`${this.apiUrl}/plans`,a)}updateLeavePlan(a,e){return this.http.put(`${this.apiUrl}/plans/${a}`,e)}getLeaveTypes(){return console.log("LeavePlanService: Calling GET",`${this.apiUrl}/types`),this.http.get(`${this.apiUrl}/types`)}createLeaveType(a){return this.http.post(`${this.apiUrl}/types`,a)}updateLeaveType(a,e){return this.http.put(`${this.apiUrl}/types/${a}`,e)}static{this.\u0275fac=function(e){return new(e||s)(p.KVO(h.Qq))}}static{this.\u0275prov=p.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})()},7599:(v,u,r)=>{r.d(u,{P:()=>s});var o=r(6354),p=r(5312),h=r(4438),c=r(1626);let s=(()=>{class l{constructor(e){this.http=e,this.apiUrl=`${p.c.apiUrl}/leaves`}getLeaves(){return this.http.get(`${this.apiUrl}/my-leaves`)}getLeave(e){return this.http.get(`${this.apiUrl}/my-leaves`).pipe((0,o.T)(t=>t.find(i=>i.id===e)||{}))}requestLeave(e){return console.log("LeaveService: Requesting leave",e),this.http.post(`${this.apiUrl}/apply`,e)}approveLeave(e){return this.http.put(`${this.apiUrl}/approve/${e}`,{})}rejectLeave(e,t){return this.http.put(`${this.apiUrl}/reject/${e}`,{reason:t})}getLeaveBalance(){return this.http.get(`${this.apiUrl}/balance`).pipe((0,o.T)(e=>{if(e&&e.balances){const t=e.balances.reduce((n,d)=>n+(d.used_days||0),0),i=e.balances.reduce((n,d)=>n+(d.allocated_days||0),0);return{used:t,total:i,available:i-t,attendanceRate:e.attendanceRate||95,balances:e.balances,leave_balances:e.balances}}if(Array.isArray(e)){const t=e.reduce((n,d)=>n+(d.used_days||0),0),i=e.reduce((n,d)=>n+(d.allocated_days||0),0);return{used:t,total:i,available:i-t,attendanceRate:95,balances:e,leave_balances:e}}return e}))}getEmployeeLeaveBalance(e){const t={};return e&&(t.year=e.toString()),console.log("LeaveService: Fetching leave balance",t),this.http.get(`${this.apiUrl}/balance`,{params:t})}initializeLeaveBalance(){return console.log("LeaveService: Initializing leave balance"),this.http.post(`${this.apiUrl}/initialize-my-balance`,{})}getAvailableLeaveTypes(){return console.log("LeaveService: Fetching available leave types"),this.http.get(`${this.apiUrl}/balance`).pipe((0,o.T)(e=>e.map(t=>({id:t.leave_type_id,type_name:t.type_name,type_code:t.type_code,is_paid:t.is_paid,available_days:t.available_days,allocated_days:t.allocated_days}))))}static{this.\u0275fac=function(t){return new(t||l)(h.KVO(c.Qq))}}static{this.\u0275prov=h.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})()}}]);