"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[253],{253:(he,p,_)=>{_.r(p),_.d(p,{EmployeeDetailPage:()=>ye});var d=_(467),r=_(7820),m=_(177),y=_(2951),s=_(5873),c=_(4341),e=_(4438),u=_(3799),g=_(6437),f=_(3741),h=_(2061);function E(n,a){if(1&n){const t=e.RV6();e.j41(0,"ion-button",9),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.openEditModal())}),e.nrm(1,"ion-icon",10),e.EFF(2," Edit "),e.k0s()}}function F(n,a){1&n&&(e.j41(0,"div",11),e.nrm(1,"ion-spinner",12),e.j41(2,"p"),e.EFF(3,"Loading employee details..."),e.k0s()())}function j(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",24),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Employee Number"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(6),e.JRh(t.employee.EmployeeNumber)}}function R(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",25),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Date of Joining"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.nI1(7,"date"),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(6),e.JRh(e.bMT(7,1,t.employee.DateOfJoining))}}function D(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",26),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Date of Birth"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.nI1(7,"date"),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(6),e.JRh(e.bMT(7,1,t.employee.DateOfBirth))}}function P(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",27),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Gender"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(6),e.JRh(t.employee.Gender)}}function b(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",28),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Marital Status"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(6),e.JRh(t.employee.MaritalStatus)}}function k(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",29),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Work Email"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(6),e.JRh(t.employee.WorkEmail)}}function M(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",30),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Personal Email"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(6),e.JRh(t.employee.PersonalEmail)}}function G(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",31),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Phone Number"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(6),e.JRh(t.employee.ContactNumber)}}function x(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",32),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Emergency Contact"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(6),e.JRh(t.employee.EmergencyContactNumber)}}function S(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",33),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Emergency Contact Name"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(6),e.JRh(t.employee.EmergencyContactName)}}function v(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",34),e.j41(2,"ion-label",35)(3,"p"),e.EFF(4,"Address"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(6),e.JRh(t.employee.Address)}}function I(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",36),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Designation"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(6),e.JRh(t.employee.designation_name)}}function C(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",37),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Secondary Designation"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(6),e.JRh(t.employee.secondary_designation_name)}}function T(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",38),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Department"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(6),e.JRh(t.employee.department_name)}}function $(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",39),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Sub Department"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(6),e.JRh(t.employee.sub_department_name)}}function N(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",40),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Location"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(6),e.JRh(t.employee.location_name)}}function O(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",41),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Business Unit"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(6),e.JRh(t.employee.business_unit_name)}}function X(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",42),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Legal Entity"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(6),e.JRh(t.employee.legal_entity_name)}}function Y(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",43),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Cost Center"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(6),e.JRh(t.employee.cost_center_code)}}function B(n,a){if(1&n&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.SpI("#",t.employee.manager_employee_number,"")}}function A(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",27),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Reporting Manager"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s(),e.DNE(7,B,2,1,"p",21),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(6),e.Lme("",t.employee.manager_first_name," ",t.employee.manager_last_name,""),e.R7$(),e.Y8G("ngIf",t.employee.manager_employee_number)}}function J(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",24),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Band"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(3);e.R7$(6),e.JRh(t.employee.band_name)}}function L(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",43),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Pay Grade"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(3);e.R7$(6),e.JRh(t.employee.pay_grade_name)}}function U(n,a){if(1&n&&(e.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e.nrm(3,"ion-icon",44),e.EFF(4," Compensation "),e.k0s()(),e.j41(5,"ion-card-content")(6,"ion-list",20),e.DNE(7,J,7,1,"ion-item",21)(8,L,7,1,"ion-item",21),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(7),e.Y8G("ngIf",t.employee.band_name),e.R7$(),e.Y8G("ngIf",t.employee.pay_grade_name)}}function V(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",25),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Leave Plan"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(3);e.R7$(6),e.JRh(t.employee.leave_plan_name)}}function w(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",46),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Shift Policy"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(3);e.R7$(6),e.JRh(t.employee.shift_policy_name)}}function H(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",47),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Weekly Off Policy"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(3);e.R7$(6),e.JRh(t.employee.weekly_off_policy_name)}}function W(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",48),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Attendance Policy"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(3);e.R7$(6),e.JRh(t.employee.attendance_policy_name)}}function K(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",49),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Attendance Capture"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(3);e.R7$(6),e.JRh(t.employee.attendance_capture_scheme_name)}}function z(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",26),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Holiday List"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(3);e.R7$(6),e.JRh(t.employee.holiday_list_name)}}function Q(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",50),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Expense Policy"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(3);e.R7$(6),e.JRh(t.employee.expense_policy_name)}}function Z(n,a){if(1&n&&(e.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e.nrm(3,"ion-icon",45),e.EFF(4," Policies & Plans "),e.k0s()(),e.j41(5,"ion-card-content")(6,"ion-list",20),e.DNE(7,V,7,1,"ion-item",21)(8,w,7,1,"ion-item",21)(9,H,7,1,"ion-item",21)(10,W,7,1,"ion-item",21)(11,K,7,1,"ion-item",21)(12,z,7,1,"ion-item",21)(13,Q,7,1,"ion-item",21),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(7),e.Y8G("ngIf",t.employee.leave_plan_name),e.R7$(),e.Y8G("ngIf",t.employee.shift_policy_name),e.R7$(),e.Y8G("ngIf",t.employee.weekly_off_policy_name),e.R7$(),e.Y8G("ngIf",t.employee.attendance_policy_name),e.R7$(),e.Y8G("ngIf",t.employee.attendance_capture_scheme_name),e.R7$(),e.Y8G("ngIf",t.employee.holiday_list_name),e.R7$(),e.Y8G("ngIf",t.employee.expense_policy_name)}}function q(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",24),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"PAN Number"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(3);e.R7$(6),e.JRh(t.employee.PAN)}}function ee(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",52),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Aadhaar Number"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(3);e.R7$(6),e.JRh(t.employee.Aadhaar)}}function te(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",53),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"UAN Number"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(3);e.R7$(6),e.JRh(t.employee.UAN)}}function ne(n,a){if(1&n&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(4);e.R7$(),e.JRh(t.employee.BankName)}}function ie(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",43),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"Bank Account"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s(),e.DNE(7,ne,2,1,"p",21),e.k0s()()),2&n){const t=e.XpG(3);e.R7$(6),e.JRh(t.employee.BankAccountNumber),e.R7$(),e.Y8G("ngIf",t.employee.BankName)}}function oe(n,a){if(1&n&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",38),e.j41(2,"ion-label")(3,"p"),e.EFF(4,"IFSC Code"),e.k0s(),e.j41(5,"h3"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(3);e.R7$(6),e.JRh(t.employee.IFSCCode)}}function ae(n,a){if(1&n&&(e.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e.nrm(3,"ion-icon",51),e.EFF(4," Additional Information "),e.k0s()(),e.j41(5,"ion-card-content")(6,"ion-list",20),e.DNE(7,q,7,1,"ion-item",21)(8,ee,7,1,"ion-item",21)(9,te,7,1,"ion-item",21)(10,ie,8,2,"ion-item",21)(11,oe,7,1,"ion-item",21),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(7),e.Y8G("ngIf",t.employee.PAN),e.R7$(),e.Y8G("ngIf",t.employee.Aadhaar),e.R7$(),e.Y8G("ngIf",t.employee.UAN),e.R7$(),e.Y8G("ngIf",t.employee.BankAccountNumber),e.R7$(),e.Y8G("ngIf",t.employee.IFSCCode)}}function le(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",13)(1,"div",14)(2,"ion-avatar",15)(3,"img",16),e.bIt("error",function(i){e.eBV(t);const l=e.XpG();return e.Njj(l.handleImageError(i))}),e.k0s()(),e.j41(4,"h1"),e.EFF(5),e.k0s(),e.j41(6,"p",17),e.EFF(7),e.k0s(),e.j41(8,"ion-badge",18),e.EFF(9),e.k0s()(),e.j41(10,"ion-card")(11,"ion-card-header")(12,"ion-card-title"),e.nrm(13,"ion-icon",19),e.EFF(14," Basic Information "),e.k0s()(),e.j41(15,"ion-card-content")(16,"ion-list",20),e.DNE(17,j,7,1,"ion-item",21)(18,R,8,3,"ion-item",21)(19,D,8,3,"ion-item",21)(20,P,7,1,"ion-item",21)(21,b,7,1,"ion-item",21),e.k0s()()(),e.j41(22,"ion-card")(23,"ion-card-header")(24,"ion-card-title"),e.nrm(25,"ion-icon",22),e.EFF(26," Contact Information "),e.k0s()(),e.j41(27,"ion-card-content")(28,"ion-list",20),e.DNE(29,k,7,1,"ion-item",21)(30,M,7,1,"ion-item",21)(31,G,7,1,"ion-item",21)(32,x,7,1,"ion-item",21)(33,S,7,1,"ion-item",21)(34,v,7,1,"ion-item",21),e.k0s()()(),e.j41(35,"ion-card")(36,"ion-card-header")(37,"ion-card-title"),e.nrm(38,"ion-icon",23),e.EFF(39," Work Information "),e.k0s()(),e.j41(40,"ion-card-content")(41,"ion-list",20),e.DNE(42,I,7,1,"ion-item",21)(43,C,7,1,"ion-item",21)(44,T,7,1,"ion-item",21)(45,$,7,1,"ion-item",21)(46,N,7,1,"ion-item",21)(47,O,7,1,"ion-item",21)(48,X,7,1,"ion-item",21)(49,Y,7,1,"ion-item",21)(50,A,8,3,"ion-item",21),e.k0s()()(),e.DNE(51,U,9,2,"ion-card",21)(52,Z,14,7,"ion-card",21)(53,ae,12,5,"ion-card",21),e.k0s()}if(2&n){const t=e.XpG();e.R7$(3),e.Y8G("src",t.employee.ProfilePicture||"assets/avatar-placeholder.png",e.B4B)("alt",t.employee.FirstName),e.R7$(2),e.Lme("",t.employee.FirstName," ",t.employee.LastName,""),e.R7$(2),e.JRh(t.employee.designation_name||t.employee.Designation),e.R7$(),e.Y8G("color",t.getStatusColor(t.employee.EmploymentStatus)),e.R7$(),e.SpI(" ",t.employee.EmploymentStatus||"Active"," "),e.R7$(8),e.Y8G("ngIf",t.employee.EmployeeNumber),e.R7$(),e.Y8G("ngIf",t.employee.DateOfJoining),e.R7$(),e.Y8G("ngIf",t.employee.DateOfBirth),e.R7$(),e.Y8G("ngIf",t.employee.Gender),e.R7$(),e.Y8G("ngIf",t.employee.MaritalStatus),e.R7$(8),e.Y8G("ngIf",t.employee.WorkEmail),e.R7$(),e.Y8G("ngIf",t.employee.PersonalEmail),e.R7$(),e.Y8G("ngIf",t.employee.ContactNumber),e.R7$(),e.Y8G("ngIf",t.employee.EmergencyContactNumber),e.R7$(),e.Y8G("ngIf",t.employee.EmergencyContactName),e.R7$(),e.Y8G("ngIf",t.employee.Address),e.R7$(8),e.Y8G("ngIf",t.employee.designation_name),e.R7$(),e.Y8G("ngIf",t.employee.secondary_designation_name),e.R7$(),e.Y8G("ngIf",t.employee.department_name),e.R7$(),e.Y8G("ngIf",t.employee.sub_department_name),e.R7$(),e.Y8G("ngIf",t.employee.location_name),e.R7$(),e.Y8G("ngIf",t.employee.business_unit_name),e.R7$(),e.Y8G("ngIf",t.employee.legal_entity_name),e.R7$(),e.Y8G("ngIf",t.employee.cost_center_code),e.R7$(),e.Y8G("ngIf",t.employee.manager_first_name),e.R7$(),e.Y8G("ngIf",t.employee.band_name||t.employee.pay_grade_name),e.R7$(),e.Y8G("ngIf",t.employee.leave_plan_name||t.employee.shift_policy_name||t.employee.attendance_policy_name),e.R7$(),e.Y8G("ngIf",t.employee.PAN||t.employee.Aadhaar||t.employee.UAN||t.employee.BankAccountNumber)}}function re(n,a){if(1&n&&(e.j41(0,"ion-select-option",68),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.name)}}function se(n,a){if(1&n&&(e.j41(0,"ion-select-option",68),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.name)}}function _e(n,a){if(1&n&&(e.j41(0,"ion-select-option",68),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.name)}}function ce(n,a){if(1&n&&(e.j41(0,"ion-select-option",68),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.name)}}function me(n,a){if(1&n&&(e.j41(0,"ion-select-option",68),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.name)}}function pe(n,a){if(1&n){const t=e.RV6();e.j41(0,"ion-list",57)(1,"ion-item")(2,"ion-label",58),e.EFF(3,"Basic Salary"),e.k0s(),e.j41(4,"ion-input",69),e.mxI("ngModelChange",function(i){e.eBV(t);const l=e.XpG(2);return e.DH7(l.salaryStructure.basic_salary,i)||(l.salaryStructure.basic_salary=i),e.Njj(i)}),e.k0s()(),e.j41(5,"ion-item")(6,"ion-label",58),e.EFF(7,"HRA"),e.k0s(),e.j41(8,"ion-input",70),e.mxI("ngModelChange",function(i){e.eBV(t);const l=e.XpG(2);return e.DH7(l.salaryStructure.hra,i)||(l.salaryStructure.hra=i),e.Njj(i)}),e.k0s()(),e.j41(9,"ion-item")(10,"ion-label",58),e.EFF(11,"Conveyance"),e.k0s(),e.j41(12,"ion-input",71),e.mxI("ngModelChange",function(i){e.eBV(t);const l=e.XpG(2);return e.DH7(l.salaryStructure.conveyance,i)||(l.salaryStructure.conveyance=i),e.Njj(i)}),e.k0s()(),e.j41(13,"ion-item")(14,"ion-label",58),e.EFF(15,"Special Allowance"),e.k0s(),e.j41(16,"ion-input",72),e.mxI("ngModelChange",function(i){e.eBV(t);const l=e.XpG(2);return e.DH7(l.salaryStructure.special_allowance,i)||(l.salaryStructure.special_allowance=i),e.Njj(i)}),e.k0s()(),e.j41(17,"ion-item")(18,"ion-label",58),e.EFF(19,"PF Contribution"),e.k0s(),e.j41(20,"ion-input",73),e.mxI("ngModelChange",function(i){e.eBV(t);const l=e.XpG(2);return e.DH7(l.salaryStructure.pf_contribution,i)||(l.salaryStructure.pf_contribution=i),e.Njj(i)}),e.k0s()(),e.j41(21,"ion-item")(22,"ion-label",58),e.EFF(23,"ESI"),e.k0s(),e.j41(24,"ion-input",74),e.mxI("ngModelChange",function(i){e.eBV(t);const l=e.XpG(2);return e.DH7(l.salaryStructure.esi,i)||(l.salaryStructure.esi=i),e.Njj(i)}),e.k0s()(),e.j41(25,"ion-item")(26,"ion-label",58),e.EFF(27,"Professional Tax"),e.k0s(),e.j41(28,"ion-input",75),e.mxI("ngModelChange",function(i){e.eBV(t);const l=e.XpG(2);return e.DH7(l.salaryStructure.professional_tax,i)||(l.salaryStructure.professional_tax=i),e.Njj(i)}),e.k0s()(),e.j41(29,"ion-item")(30,"ion-label",58),e.EFF(31,"Other Deductions"),e.k0s(),e.j41(32,"ion-input",76),e.mxI("ngModelChange",function(i){e.eBV(t);const l=e.XpG(2);return e.DH7(l.salaryStructure.other_deductions,i)||(l.salaryStructure.other_deductions=i),e.Njj(i)}),e.k0s()(),e.j41(33,"ion-item")(34,"ion-label",58),e.EFF(35,"Effective From"),e.k0s(),e.j41(36,"ion-datetime",77),e.mxI("ngModelChange",function(i){e.eBV(t);const l=e.XpG(2);return e.DH7(l.salaryStructure.effective_from,i)||(l.salaryStructure.effective_from=i),e.Njj(i)}),e.k0s()()()}if(2&n){const t=e.XpG(2);e.R7$(4),e.R50("ngModel",t.salaryStructure.basic_salary),e.R7$(4),e.R50("ngModel",t.salaryStructure.hra),e.Y8G("readonly",null==t.payrollDefaults?null:t.payrollDefaults.hra_percent),e.R7$(4),e.R50("ngModel",t.salaryStructure.conveyance),e.R7$(4),e.R50("ngModel",t.salaryStructure.special_allowance),e.R7$(4),e.R50("ngModel",t.salaryStructure.pf_contribution),e.R7$(4),e.R50("ngModel",t.salaryStructure.esi),e.R7$(4),e.R50("ngModel",t.salaryStructure.professional_tax),e.R7$(4),e.R50("ngModel",t.salaryStructure.other_deductions),e.R7$(4),e.R50("ngModel",t.salaryStructure.effective_from)}}function de(n,a){if(1&n){const t=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Edit Employee Master Details"),e.k0s(),e.j41(4,"ion-buttons",3)(5,"ion-button",9),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.closeEditModal())}),e.nrm(6,"ion-icon",54),e.k0s()()()(),e.j41(7,"ion-content",55)(8,"form",56),e.bIt("ngSubmit",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.saveEdits())}),e.j41(9,"ion-list",57)(10,"ion-item")(11,"ion-label",58),e.EFF(12,"Reporting Manager"),e.k0s(),e.j41(13,"ion-input",59),e.mxI("ngModelChange",function(i){e.eBV(t);const l=e.XpG();return e.DH7(l.managerSearch,i)||(l.managerSearch=i),e.Njj(i)}),e.k0s(),e.j41(14,"ion-select",60),e.mxI("ngModelChange",function(i){e.eBV(t);const l=e.XpG();return e.DH7(l.editForm.reporting_manager_id,i)||(l.editForm.reporting_manager_id=i),e.Njj(i)}),e.DNE(15,re,2,2,"ion-select-option",61),e.k0s()(),e.j41(16,"ion-item")(17,"ion-label",58),e.EFF(18,"Leave Plan"),e.k0s(),e.j41(19,"ion-select",62),e.mxI("ngModelChange",function(i){e.eBV(t);const l=e.XpG();return e.DH7(l.editForm.leave_plan_id,i)||(l.editForm.leave_plan_id=i),e.Njj(i)}),e.DNE(20,se,2,2,"ion-select-option",61),e.k0s()(),e.j41(21,"ion-item")(22,"ion-label",58),e.EFF(23,"Shift Policy"),e.k0s(),e.j41(24,"ion-select",63),e.mxI("ngModelChange",function(i){e.eBV(t);const l=e.XpG();return e.DH7(l.editForm.shift_policy_id,i)||(l.editForm.shift_policy_id=i),e.Njj(i)}),e.DNE(25,_e,2,2,"ion-select-option",61),e.k0s()(),e.j41(26,"ion-item")(27,"ion-label",58),e.EFF(28,"Attendance Policy"),e.k0s(),e.j41(29,"ion-select",64),e.mxI("ngModelChange",function(i){e.eBV(t);const l=e.XpG();return e.DH7(l.editForm.attendance_policy_id,i)||(l.editForm.attendance_policy_id=i),e.Njj(i)}),e.DNE(30,ce,2,2,"ion-select-option",61),e.k0s()(),e.j41(31,"ion-item")(32,"ion-label",58),e.EFF(33,"Pay Grade"),e.k0s(),e.j41(34,"ion-select",65),e.mxI("ngModelChange",function(i){e.eBV(t);const l=e.XpG();return e.DH7(l.editForm.PayGradeId,i)||(l.editForm.PayGradeId=i),e.Njj(i)}),e.DNE(35,me,2,2,"ion-select-option",61),e.k0s()()(),e.DNE(36,pe,37,10,"ion-list",66),e.j41(37,"ion-footer")(38,"ion-button",67),e.EFF(39,"Save"),e.k0s()()()()}if(2&n){const t=e.XpG();e.R7$(13),e.R50("ngModel",t.managerSearch),e.R7$(),e.R50("ngModel",t.editForm.reporting_manager_id),e.R7$(),e.Y8G("ngForOf",t.filteredManagers),e.R7$(4),e.R50("ngModel",t.editForm.leave_plan_id),e.R7$(),e.Y8G("ngForOf",t.masterData.leavePlans),e.R7$(4),e.R50("ngModel",t.editForm.shift_policy_id),e.R7$(),e.Y8G("ngForOf",t.masterData.shiftPolicies),e.R7$(4),e.R50("ngModel",t.editForm.attendance_policy_id),e.R7$(),e.Y8G("ngForOf",t.masterData.attendancePolicies),e.R7$(4),e.R50("ngModel",t.editForm.PayGradeId),e.R7$(),e.Y8G("ngForOf",t.masterData.payGrades),e.R7$(),e.Y8G("ngIf",t.salaryStructure)}}function ue(n,a){1&n&&(e.j41(0,"div",78),e.nrm(1,"ion-icon",79),e.j41(2,"h2"),e.EFF(3,"Employee Not Found"),e.k0s(),e.j41(4,"p"),e.EFF(5,"Unable to load employee details"),e.k0s()())}let ye=(()=>{class n{constructor(t,o,i,l,ge,fe){this.route=t,this.router=o,this.employeeService=i,this.toastController=l,this.masterDataService=ge,this.payrollService=fe,this.payrollDefaults={},this.employee=null,this.isLoading=!1,this.isHR=!1,this.showEditModal=!1,this.editForm={},this.masterData={leavePlans:[],shiftPolicies:[],attendancePolicies:[],payGrades:[],managers:[]},this.salaryStructure=null,this.managerSearch="",(0,y.d)({mailOutline:s.SM1,callOutline:s.bNN,businessOutline:s.FL4,briefcaseOutline:s.vOb,calendarOutline:s.RXF,locationOutline:s.UN$,cardOutline:s.VR9,personOutline:s.wAZ,cashOutline:s.A3w,shieldOutline:s.uLY,clipboardOutline:s.t4M,timeOutline:s.CVk,alertCircleOutline:s.ndb,homeOutline:s.Ud0})}ngOnInit(){this.payrollService.getPayrollDefaults().subscribe(i=>{this.payrollDefaults=i||{}});const t=this.route.snapshot.paramMap.get("id");t&&(this.loadEmployee(t),this.loadSalaryStructure(t));const o=JSON.parse(localStorage.getItem("user")||"{}");this.isHR="hr"===o.role||"admin"===o.role,this.loadAllMasterData()}loadAllMasterData(){this.masterDataService.getLeavePlans().subscribe(t=>{console.log("Leave Plans:",t),this.masterData.leavePlans=t||[]}),this.masterDataService.getShiftPolicies().subscribe(t=>{console.log("Shift Policies:",t),this.masterData.shiftPolicies=t||[]}),this.masterDataService.getAttendancePolicies().subscribe(t=>{console.log("Attendance Policies:",t),this.masterData.attendancePolicies=t||[]}),this.masterDataService.getPayGrades().subscribe(t=>{console.log("Pay Grades:",t),this.masterData.payGrades=t||[]}),this.employeeService.getEmployees().subscribe(t=>{console.log("Managers:",t),this.masterData.managers=t||[]})}get filteredManagers(){if(!this.managerSearch)return this.masterData.managers;const t=this.managerSearch.toLowerCase();return this.masterData.managers.filter(o=>o.name&&o.name.toLowerCase().includes(t)||o.EmployeeNumber&&o.EmployeeNumber.toLowerCase().includes(t))}loadEmployee(t){this.isLoading=!0,this.employeeService.getEmployeeDetails(t).subscribe({next:o=>{this.employee=o.employee||o,this.isLoading=!1,this.editForm={reporting_manager_id:this.employee.reporting_manager_id||"",leave_plan_id:this.employee.leave_plan_id||"",shift_policy_id:this.employee.shift_policy_id||"",attendance_policy_id:this.employee.attendance_policy_id||"",PayGradeId:this.employee.PayGradeId||""}},error:o=>{console.error("Error loading employee details:",o),this.isLoading=!1}})}loadSalaryStructure(t){this.payrollService.getSalaryStructure(Number(t)).subscribe({next:o=>{this.salaryStructure=o.salaryStructure},error:()=>{this.salaryStructure=null}})}openEditModal(){this.salaryStructure={id:this.salaryStructure?.id??0,employee_id:this.salaryStructure?.employee_id??this.employee?.id??0,basic_salary:this.salaryStructure?.basic_salary??0,hra:this.salaryStructure?.hra??0,conveyance:this.salaryStructure?.conveyance??0,special_allowance:this.salaryStructure?.special_allowance??0,pf_contribution:this.salaryStructure?.pf_contribution??0,esi:this.salaryStructure?.esi??0,professional_tax:this.salaryStructure?.professional_tax??0,other_deductions:this.salaryStructure?.other_deductions??0,effective_from:this.salaryStructure?.effective_from??"",effective_to:this.salaryStructure?.effective_to??null},this.payrollDefaults&&this.payrollDefaults.hra_percent&&this.salaryStructure&&this.salaryStructure.basic_salary&&(this.salaryStructure.hra=this.salaryStructure.basic_salary*this.payrollDefaults.hra_percent/100),this.showEditModal=!0}closeEditModal(){this.showEditModal=!1}saveEdits(){var t=this;return(0,d.A)(function*(){if(!t.employee?.id)return;const o={...t.editForm};""===o.PayGradeId&&(o.PayGradeId=null),""===o.leave_plan_id&&(o.leave_plan_id=null),""===o.shift_policy_id&&(o.shift_policy_id=null),""===o.attendance_policy_id&&(o.attendance_policy_id=null),""===o.reporting_manager_id&&(o.reporting_manager_id=null);let i=null;t.salaryStructure&&(i={basic:t.salaryStructure.basic_salary||0,hra:t.salaryStructure.hra||0,conveyance:t.salaryStructure.conveyance||0,special_allowance:t.salaryStructure.special_allowance||0,pf:t.salaryStructure.pf_contribution||0,esi:t.salaryStructure.esi||0,professional_tax:t.salaryStructure.professional_tax||0,other_deductions:t.salaryStructure.other_deductions||0});try{yield t.employeeService.updateEmployee(t.employee.id,o).toPromise(),t.isHR&&i&&(t.salaryStructure?.id?yield t.payrollService.updateSalaryStructure(Number(t.employee.id),i).toPromise():yield t.payrollService.createSalaryStructure(Number(t.employee.id),i).toPromise()),t.showEditModal=!1,t.loadEmployee(t.employee.id),t.loadSalaryStructure(t.employee.id),t.presentToast("Employee details updated successfully","success")}catch{t.presentToast("Failed to update employee details","danger")}})()}presentToast(t,o){var i=this;return(0,d.A)(function*(){yield(yield i.toastController.create({message:t,duration:2e3,color:o,position:"bottom"})).present()})()}handleImageError(t){t.target.src="assets/avatar-placeholder.png"}getStatusColor(t){switch(t?.toLowerCase()){case"active":return"success";case"inactive":default:return"medium";case"on leave":return"warning";case"terminated":return"danger"}}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(u.nX),e.rXU(u.Ix),e.rXU(g.O),e.rXU(r.K_),e.rXU(f.u),e.rXU(h.P))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-employee-detail"]],standalone:!0,features:[e.aNF],decls:14,vars:5,consts:[["color","primary"],["slot","start"],["defaultHref","/employees"],["slot","end"],[3,"click",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","page-content",4,"ngIf"],[3,"didDismiss","isOpen"],["class","empty-state",4,"ngIf"],[3,"click"],["name","create-outline"],[1,"loading-container"],["name","crescent","color","primary"],[1,"page-content"],[1,"profile-header"],[1,"profile-avatar"],[3,"error","src","alt"],[1,"designation"],[3,"color"],["name","card-outline"],["lines","none"],[4,"ngIf"],["name","call-outline"],["name","briefcase-outline"],["slot","start","name","card-outline","color","primary"],["slot","start","name","calendar-outline","color","primary"],["slot","start","name","calendar-outline","color","success"],["slot","start","name","person-outline","color","primary"],["slot","start","name","person-outline","color","secondary"],["slot","start","name","mail-outline","color","primary"],["slot","start","name","mail-outline","color","secondary"],["slot","start","name","call-outline","color","primary"],["slot","start","name","alert-circle-outline","color","danger"],["slot","start","name","person-outline","color","danger"],["slot","start","name","home-outline","color","primary"],[1,"ion-text-wrap"],["slot","start","name","briefcase-outline","color","primary"],["slot","start","name","briefcase-outline","color","secondary"],["slot","start","name","business-outline","color","primary"],["slot","start","name","business-outline","color","secondary"],["slot","start","name","location-outline","color","primary"],["slot","start","name","business-outline","color","tertiary"],["slot","start","name","shield-outline","color","warning"],["slot","start","name","cash-outline","color","success"],["name","cash-outline"],["name","clipboard-outline"],["slot","start","name","time-outline","color","primary"],["slot","start","name","calendar-outline","color","secondary"],["slot","start","name","clipboard-outline","color","primary"],["slot","start","name","time-outline","color","secondary"],["slot","start","name","cash-outline","color","warning"],["name","shield-outline"],["slot","start","name","card-outline","color","secondary"],["slot","start","name","card-outline","color","tertiary"],["name","close"],[1,"ion-padding"],[3,"ngSubmit"],["lines","full"],["position","stacked"],["placeholder","Search manager...","name","managerSearch","clearInput","",3,"ngModelChange","ngModel"],["name","reporting_manager_id","interface","popover",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["name","leave_plan_id",3,"ngModelChange","ngModel"],["name","shift_policy_id",3,"ngModelChange","ngModel"],["name","attendance_policy_id",3,"ngModelChange","ngModel"],["name","PayGradeId",3,"ngModelChange","ngModel"],["lines","full",4,"ngIf"],["expand","block","type","submit","color","primary"],[3,"value"],["type","number","name","basic_salary",3,"ngModelChange","ngModel"],["type","number","name","hra",3,"ngModelChange","ngModel","readonly"],["type","number","name","conveyance",3,"ngModelChange","ngModel"],["type","number","name","special_allowance",3,"ngModelChange","ngModel"],["type","number","name","pf_contribution",3,"ngModelChange","ngModel"],["type","number","name","esi",3,"ngModelChange","ngModel"],["type","number","name","professional_tax",3,"ngModelChange","ngModel"],["type","number","name","other_deductions",3,"ngModelChange","ngModel"],["display-format","YYYY-MM-DD","name","effective_from",3,"ngModelChange","ngModel"],[1,"empty-state"],["name","person-outline","size","large"]],template:function(o,i){1&o&&(e.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e.nrm(3,"ion-back-button",2),e.k0s(),e.j41(4,"ion-title"),e.EFF(5,"Employee Details"),e.k0s(),e.j41(6,"ion-buttons",3),e.DNE(7,E,3,0,"ion-button",4),e.k0s()()(),e.j41(8,"ion-content"),e.DNE(9,F,4,0,"div",5)(10,le,54,30,"div",6),e.j41(11,"ion-modal",7),e.bIt("didDismiss",function(){return i.closeEditModal()}),e.DNE(12,de,40,12,"ng-template"),e.k0s(),e.DNE(13,ue,6,0,"div",8),e.k0s()),2&o&&(e.R7$(7),e.Y8G("ngIf",i.isHR),e.R7$(2),e.Y8G("ngIf",i.isLoading),e.R7$(),e.Y8G("ngIf",!i.isLoading&&i.employee),e.R7$(),e.Y8G("isOpen",i.showEditModal),e.R7$(2),e.Y8G("ngIf",!i.isLoading&&!i.employee))},dependencies:[m.MD,m.Sq,m.bT,m.vh,c.YN,c.qT,c.BC,c.cb,c.vS,c.cV,r.W9,r.eU,r.BC,r.ai,r.QW,r.el,r.Jm,r.b_,r.I9,r.ME,r.tN,r.nf,r.uz,r.he,r.iq,r.mC,r.In,r.w2,r.Sb,r.$w,r.M0,r.A9,r.Nm,r.Ip],styles:[".page-content[_ngcontent-%COMP%]{padding:1rem;max-width:800px;margin:0 auto}.profile-header[_ngcontent-%COMP%]{text-align:center;padding:2rem 0}.profile-header[_ngcontent-%COMP%]   .profile-avatar[_ngcontent-%COMP%]{width:100px;height:100px;margin:0 auto 1rem;border:4px solid var(--ion-color-primary);box-shadow:var(--shadow-md)}.profile-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin:0 0 .5rem}.profile-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin:0 0 .5rem}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 0;margin-bottom:.5rem}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;color:var(--ion-color-medium);margin-bottom:.25rem}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;margin:0}"]})}}return n})()}}]);