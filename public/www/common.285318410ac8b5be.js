"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[76],{4086:(g,u,i)=>{i.d(u,{p:()=>c});var n=i(5312),o=i(4438),p=i(1626);let c=(()=>{class s{constructor(a){this.http=a,this.apiUrl=`${n.c.apiUrl}/admin/timesheet`}getDashboard(a,t,e,r){let l={};return a&&(l.startDate=a),t&&(l.endDate=t),e&&(l.projectId=e.toString()),r&&(l.complianceStatus=r),this.http.get(`${this.apiUrl}/dashboard`,{params:l})}getNonCompliantEmployees(a,t,e){let r={};return a&&(r.date=a),t&&(r.projectId=t.toString()),e&&(r.complianceType=e),this.http.get(`${this.apiUrl}/non-compliant-employees`,{params:r})}getVerificationQueue(a,t,e,r){let l={};return a&&(l.status=a),t&&(l.projectId=t.toString()),e&&(l.startDate=e),r&&(l.endDate=r),this.http.get(`${this.apiUrl}/verification-queue`,{params:l})}getComparisonData(a){return this.http.get(`${this.apiUrl}/comparison/${a}`)}verifyWorkUpdate(a){return this.http.post(`${this.apiUrl}/verify`,a)}bulkVerify(a){return this.http.post(`${this.apiUrl}/bulk-verify`,a)}getPayrollStatus(a){let t={};return a&&(t.payrollPeriod=a),this.http.get(`${this.apiUrl}/payroll-status`,{params:t})}lockPayrollPeriod(a){return this.http.post(`${this.apiUrl}/lock-payroll-period`,{payrollPeriod:a})}downloadTimesheet(a){return this.http.get(`${this.apiUrl}/download/${a}`,{responseType:"blob"})}static{this.\u0275fac=function(t){return new(t||s)(o.KVO(p.Qq))}}static{this.\u0275prov=o.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})()},1963:(g,u,i)=>{i.d(u,{$:()=>s});var n=i(6354),o=i(5312),p=i(4438),c=i(1626);let s=(()=>{class h{constructor(t){this.http=t,this.apiUrl=`${o.c.apiUrl}/attendance`}getAttendance(t,e){const r={};return t&&(r.startDate=t),e&&(r.endDate=e),console.log("AttendanceService: Fetching attendance with params:",r),this.http.get(`${this.apiUrl}/me`,{params:r})}punchIn(t,e,r){return console.log("AttendanceService: Punching in with work mode:",t),this.http.post(`${this.apiUrl}/punch-in`,{work_mode:t||"Office",location:e,notes:r})}punchOut(t){return console.log("AttendanceService: Punching out"),this.http.post(`${this.apiUrl}/punch-out`,{notes:t})}getTodayStatus(){return console.log("AttendanceService: Fetching today status"),this.http.get(`${this.apiUrl}/today`)}getTodayAttendance(){return console.log("AttendanceService: Fetching today attendance"),this.http.get(`${this.apiUrl}/today`).pipe((0,n.T)(t=>(console.log("AttendanceService: Today attendance response:",t),t.has_attendance?t.attendance:null)))}getMonthlyReport(t,e){return this.http.get(`${this.apiUrl}/report/monthly`,{params:{month:t,year:e}})}static{this.\u0275fac=function(e){return new(e||h)(p.KVO(c.Qq))}}static{this.\u0275prov=p.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},6437:(g,u,i)=>{i.d(u,{O:()=>h});var n=i(6354),o=i(5312);var c=i(4438),s=i(1626);let h=(()=>{class a{constructor(e){this.http=e,this.apiUrl=`${o.c.apiUrl}/employees`}getEmployees(){return this.http.get(this.apiUrl).pipe((0,n.T)(e=>e.map(r=>this.transformEmployee(r))))}transformEmployee(e){return{id:e.id?.toString()||"",name:`${e.FirstName||""} ${e.LastName||""}`.trim()||"N/A",email:e.WorkEmail||e.PersonalEmail||"N/A",phone:e.ContactNumber||e.MobileNumber,department:e.Department||"N/A",position:e.Designation||"N/A",joinDate:e.DateOfJoining||e.created_at,avatar:e.ProfilePicture||"assets/avatar-placeholder.png",status:"Active"===e.EmployeeStatus?"active":"inactive"}}getEmployee(e){return this.http.get(`${this.apiUrl}/${e}`)}getEmployeeDetails(e){return this.http.get(`${this.apiUrl}/${e}/details`)}createEmployee(e){return this.http.post(this.apiUrl,e)}updateEmployee(e,r){return this.http.put(`${this.apiUrl}/${e}`,r)}deleteEmployee(e){return this.http.delete(`${this.apiUrl}/${e}`)}getTeamMembers(e){return this.http.get(`${this.apiUrl}/reporting/${e}`).pipe((0,n.T)(r=>r.map(l=>this.transformEmployee(l))))}getMyProfile(){return this.http.get(`${this.apiUrl}/profile/me`)}static{this.\u0275fac=function(r){return new(r||a)(c.KVO(s.Qq))}}static{this.\u0275prov=c.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})()},7097:(g,u,i)=>{i.d(u,{c:()=>c});var n=i(5312),o=i(4438),p=i(1626);let c=(()=>{class s{constructor(a){this.http=a,this.apiUrl=`${n.c.apiUrl}/leave`}getLeavePlans(){return console.log("LeavePlanService: Calling GET",`${this.apiUrl}/plans`),this.http.get(`${this.apiUrl}/plans`)}getLeavePlan(a){return this.http.get(`${this.apiUrl}/plans/${a}`)}createLeavePlan(a){return this.http.post(`${this.apiUrl}/plans`,a)}updateLeavePlan(a,t){return this.http.put(`${this.apiUrl}/plans/${a}`,t)}getLeaveTypes(){return console.log("LeavePlanService: Calling GET",`${this.apiUrl}/types`),this.http.get(`${this.apiUrl}/types`)}createLeaveType(a){return this.http.post(`${this.apiUrl}/types`,a)}updateLeaveType(a,t){return this.http.put(`${this.apiUrl}/types/${a}`,t)}static{this.\u0275fac=function(t){return new(t||s)(o.KVO(p.Qq))}}static{this.\u0275prov=o.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})()},7599:(g,u,i)=>{i.d(u,{P:()=>s});var n=i(6354),o=i(5312),p=i(4438),c=i(1626);let s=(()=>{class h{constructor(t){this.http=t,this.apiUrl=`${o.c.apiUrl}/leaves`}getLeaves(){return this.http.get(`${this.apiUrl}/my-leaves`)}getLeave(t){return this.http.get(`${this.apiUrl}/my-leaves`).pipe((0,n.T)(e=>e.find(r=>r.id===t)||{}))}requestLeave(t){return console.log("LeaveService: Requesting leave",t),this.http.post(`${this.apiUrl}/apply`,t)}approveLeave(t){return this.http.put(`${this.apiUrl}/approve/${t}`,{})}rejectLeave(t,e){return this.http.put(`${this.apiUrl}/reject/${t}`,{reason:e})}getLeaveBalance(){return this.http.get(`${this.apiUrl}/balance`).pipe((0,n.T)(t=>{if(t&&t.balances){const e=t.balances.reduce((l,d)=>l+(d.used_days||0),0),r=t.balances.reduce((l,d)=>l+(d.allocated_days||0),0);return{used:e,total:r,available:r-e,attendanceRate:t.attendanceRate||95,balances:t.balances,leave_balances:t.balances}}if(Array.isArray(t)){const e=t.reduce((l,d)=>l+(d.used_days||0),0),r=t.reduce((l,d)=>l+(d.allocated_days||0),0);return{used:e,total:r,available:r-e,attendanceRate:95,balances:t,leave_balances:t}}return t}))}getEmployeeLeaveBalance(t){const e={};return t&&(e.year=t.toString()),console.log("LeaveService: Fetching leave balance",e),this.http.get(`${this.apiUrl}/balance`,{params:e})}initializeLeaveBalance(){return console.log("LeaveService: Initializing leave balance"),this.http.post(`${this.apiUrl}/initialize-my-balance`,{})}getAvailableLeaveTypes(){return console.log("LeaveService: Fetching available leave types"),this.http.get(`${this.apiUrl}/balance`).pipe((0,n.T)(t=>t.map(e=>({id:e.leave_type_id,type_name:e.type_name,type_code:e.type_code,is_paid:e.is_paid,available_days:e.available_days,allocated_days:e.allocated_days}))))}static{this.\u0275fac=function(e){return new(e||h)(p.KVO(c.Qq))}}static{this.\u0275prov=p.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},2061:(g,u,i)=>{i.d(u,{P:()=>c});var n=i(5312),o=i(4438),p=i(1626);let c=(()=>{class s{constructor(a){this.http=a,this.apiUrl=`${n.c.apiUrl}/payroll`}generatePayroll(a,t){return this.http.post(`${this.apiUrl}/generate`,{month:a,year:t})}getPayrollRuns(a,t,e){let r={};return a&&(r.month=a.toString()),t&&(r.year=t.toString()),e&&(r.status=e),this.http.get(this.apiUrl,{params:r})}getPayrollRunDetails(a){return this.http.get(`${this.apiUrl}/${a}`)}getMyPayslips(){return this.http.get(`${this.apiUrl}/my-payslips`)}getSalaryStructure(a){return this.http.get(a?`${this.apiUrl}/salary-structure/${a}`:`${this.apiUrl}/my-salary-structure`)}updateSalaryStructure(a,t){return this.http.put(`${this.apiUrl}/salary-structure/${a}`,t)}finalizePayroll(a){return this.http.put(`${this.apiUrl}/${a}/finalize`,{})}markAsPaid(a){return this.http.put(`${this.apiUrl}/${a}/mark-paid`,{})}getPayrollDefaults(){return this.http.get(`${this.apiUrl}/defaults`)}createPayrollDefaults(a){return this.http.post(`${this.apiUrl}/defaults`,a)}updatePayrollDefaults(a,t){return this.http.put(`${this.apiUrl}/defaults/${a}`,t)}getAllPayrollRuns(){return this.http.get(`${this.apiUrl}/runs`)}getAllPayslips(){return this.http.get(`${this.apiUrl}/slips/all`)}recalculatePayslip(a,t,e){return this.http.post(`${this.apiUrl}/recalculate/${a}`,{month:t,year:e})}static{this.\u0275fac=function(t){return new(t||s)(o.KVO(p.Qq))}}static{this.\u0275prov=o.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})()}}]);