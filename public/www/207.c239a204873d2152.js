"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[207],{4207:(y,h,o)=>{o.r(h),o.d(h,{CandidatesPage:()=>P});var g=o(467),p=o(177),u=o(4341),r=o(9907),f=o(2951),c=o(5873),t=o(4438),m=o(5312),C=o(1626);let _=(()=>{class a{constructor(e){this.http=e,this.apiUrl=`${m.c.apiUrl}/candidates`}getAllCandidates(e,n){let i={};return e&&(i.status=e),n&&(i.department=n),this.http.get(this.apiUrl,{params:i})}getCandidate(e){return this.http.get(`${this.apiUrl}/${e}`)}createCandidate(e){return this.http.post(this.apiUrl,e)}updateCandidateStatus(e,n,i){return this.http.put(`${this.apiUrl}/${e}/status`,{status:n,notes:i})}startPreonboarding(e){return this.http.post(`${this.apiUrl}/${e}/start-preonboarding`,{})}createOfferStep1(e,n){return this.http.post(`${this.apiUrl}/${e}/offer/step1`,n)}createOfferStep2(e,n){return this.http.post(`${this.apiUrl}/offer/${e}/step2`,n)}createOfferStep3(e,n){return this.http.post(`${this.apiUrl}/offer/${e}/step3`,n)}createOfferStep4(e,n){return this.http.post(`${this.apiUrl}/offer/${e}/step4`,n)}sendOffer(e){return this.http.post(`${this.apiUrl}/offer/${e}/send`,{})}viewOffer(e,n){return this.http.get(`${this.apiUrl}/offer/${e}/view?token=${n}`)}acceptOffer(e,n,i){return this.http.post(`${this.apiUrl}/offer/${e}/accept?token=${n}`,{signature:i})}rejectOffer(e,n,i){return this.http.post(`${this.apiUrl}/offer/${e}/reject?token=${n}`,{reason:i})}uploadDocument(e,n){return this.http.post(`${this.apiUrl}/${e}/documents/upload`,n)}getDocuments(e){return this.http.get(`${this.apiUrl}/${e}/documents`)}verifyDocument(e,n,i){return this.http.put(`${this.apiUrl}/documents/${e}/verify`,{verified:n,notes:i})}updateBGVStatus(e,n,i){return this.http.put(`${this.apiUrl}/${e}/bgv-status`,{bgv_status:n,bgv_notes:i})}getPreonboardingTasks(){return this.http.get(`${this.apiUrl}/preonboarding/tasks`)}getCandidateTaskProgress(e){return this.http.get(`${this.apiUrl}/${e}/tasks`)}submitTask(e,n,i){return this.http.post(`${this.apiUrl}/${e}/tasks/${n}/submit`,i)}verifyTask(e,n,i){return this.http.put(`${this.apiUrl}/tasks/${e}/verify`,{status:n?"verified":"rejected",verification_notes:i})}convertToEmployee(e){return this.http.post(`${this.apiUrl}/${e}/convert-to-employee`,{})}createTask(e){return this.http.post(`${this.apiUrl}/preonboarding/tasks`,e)}deleteTask(e){return this.http.delete(`${this.apiUrl}/preonboarding/tasks/${e}`)}static{this.\u0275fac=function(n){return new(n||a)(t.KVO(C.Qq))}}static{this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var v=o(3799);function $(a,l){if(1&a&&(t.j41(0,"ion-badge",23),t.EFF(1),t.k0s()),2&a){const e=t.XpG().$implicit,n=t.XpG(2);t.Y8G("color",n.getOfferStatusColor(e.offer_status)),t.R7$(),t.SpI(" Offer: ",e.offer_status," ")}}function F(a,l){if(1&a){const e=t.RV6();t.j41(0,"ion-card",17),t.bIt("click",function(){const i=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.viewCandidate(i))}),t.j41(1,"ion-card-content")(2,"div",18)(3,"div",19)(4,"div",20),t.nrm(5,"ion-icon",21),t.k0s(),t.j41(6,"div")(7,"h3"),t.EFF(8),t.k0s(),t.j41(9,"p",22),t.EFF(10),t.k0s()()(),t.j41(11,"ion-badge",23),t.EFF(12),t.k0s()(),t.j41(13,"div",24)(14,"div",25),t.nrm(15,"ion-icon",26),t.j41(16,"span"),t.EFF(17),t.k0s()(),t.j41(18,"div",25),t.nrm(19,"ion-icon",27),t.j41(20,"span"),t.EFF(21),t.k0s()(),t.j41(22,"div",25),t.nrm(23,"ion-icon",28),t.j41(24,"span"),t.EFF(25),t.k0s()(),t.j41(26,"div",25),t.nrm(27,"ion-icon",29),t.j41(28,"span"),t.EFF(29),t.k0s()()(),t.j41(30,"div",30)(31,"span",31),t.EFF(32),t.k0s(),t.DNE(33,$,2,2,"ion-badge",32),t.k0s()()()}if(2&a){const e=l.$implicit,n=t.XpG(2);t.R7$(8),t.JRh(e.candidate_name),t.R7$(2),t.JRh(e.position_applied),t.R7$(),t.Y8G("color",n.getStatusColor(e.current_status)),t.R7$(),t.SpI(" ",e.current_status," "),t.R7$(5),t.JRh(e.email),t.R7$(4),t.JRh(e.phone),t.R7$(4),t.JRh(e.department),t.R7$(4),t.SpI("Expected: ",n.formatDate(e.expected_joining_date),""),t.R7$(3),t.SpI("Recruiter: ",e.recruiter_name,""),t.R7$(),t.Y8G("ngIf",e.offer_status)}}function j(a,l){if(1&a&&(t.j41(0,"div"),t.DNE(1,F,34,10,"ion-card",16),t.k0s()),2&a){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.filteredCandidates)}}function k(a,l){1&a&&(t.j41(0,"p"),t.EFF(1,"No candidates in the system yet"),t.k0s())}function O(a,l){1&a&&(t.j41(0,"p"),t.EFF(1,"Try adjusting your filters"),t.k0s())}function b(a,l){if(1&a){const e=t.RV6();t.j41(0,"ion-card")(1,"ion-card-content",33),t.nrm(2,"ion-icon",34),t.j41(3,"h3"),t.EFF(4,"No Candidates Found"),t.k0s(),t.DNE(5,k,2,0,"p",12)(6,O,2,0,"p",12),t.j41(7,"ion-button",14),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.createCandidate())}),t.nrm(8,"ion-icon",35),t.EFF(9," Add Candidate "),t.k0s()()()}if(2&a){const e=t.XpG();t.R7$(5),t.Y8G("ngIf",!e.searchTerm&&!e.selectedStatus),t.R7$(),t.Y8G("ngIf",e.searchTerm||e.selectedStatus)}}let P=(()=>{class a{constructor(e,n,i,s){this.candidatesService=e,this.loadingController=n,this.toastController=i,this.router=s,this.candidates=[],this.filteredCandidates=[],this.isLoading=!1,this.searchTerm="",this.selectedStatus="",this.selectedDepartment="",(0,f.d)({addOutline:c.EKF,personOutline:c.wAZ,mailOutline:c.SM1,callOutline:c.bNN,businessOutline:c.FL4,calendarOutline:c.RXF})}ngOnInit(){this.loadCandidates()}loadCandidates(e){var n=this;return(0,g.A)(function*(){e||(n.isLoading=!0),n.candidatesService.getAllCandidates().subscribe({next:i=>{n.candidates=i.candidates.sort((s,d)=>new Date(d.created_at).getTime()-new Date(s.created_at).getTime()),n.applyFilters(),n.isLoading=!1,e&&e.target.complete()},error:i=>{console.error("Error loading candidates:",i),n.showToast("Failed to load candidates","danger"),n.isLoading=!1,e&&e.target.complete()}})})()}onSearchChange(e){this.searchTerm=e.detail.value,this.applyFilters()}onFilterChange(){this.applyFilters()}applyFilters(){let e=[...this.candidates];if(this.searchTerm){const n=this.searchTerm.toLowerCase();e=e.filter(i=>i.candidate_name.toLowerCase().includes(n)||i.email.toLowerCase().includes(n)||i.position_applied.toLowerCase().includes(n))}this.selectedStatus&&(e=e.filter(n=>n.current_status===this.selectedStatus)),this.selectedDepartment&&(e=e.filter(n=>n.department===this.selectedDepartment)),this.filteredCandidates=e}viewCandidate(e){this.router.navigate(["/candidates",e.id])}createCandidate(){this.router.navigate(["/candidates/create"])}getStatusColor(e){switch(e?.toLowerCase()){case"hired":case"offered":return"success";case"interviewing":return"warning";case"shortlisted":return"primary";case"screening":return"tertiary";case"rejected":return"danger";default:return"medium"}}getOfferStatusColor(e){switch(e?.toLowerCase()){case"accepted":return"success";case"sent":return"warning";case"rejected":return"danger";default:return"medium"}}formatDate(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}showToast(e,n){var i=this;return(0,g.A)(function*(){yield(yield i.toastController.create({message:e,duration:3e3,color:n,position:"bottom"})).present()})()}static{this.\u0275fac=function(n){return new(n||a)(t.rXU(_),t.rXU(r.Xi),t.rXU(r.K_),t.rXU(v.Ix))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-candidates"]],standalone:!0,features:[t.aNF],decls:34,vars:4,consts:[["slot","start"],["placeholder","Search candidates...",3,"ngModelChange","ionInput","ngModel"],[1,"filter-card"],["lines","none"],["placeholder","All",3,"ngModelChange","ionChange","ngModel"],["value",""],["value","screening"],["value","shortlisted"],["value","interviewing"],["value","offered"],["value","hired"],["value","rejected"],[4,"ngIf"],["slot","fixed","vertical","bottom","horizontal","end"],[3,"click"],["name","add-outline"],["class","candidate-card",3,"click",4,"ngFor","ngForOf"],[1,"candidate-card",3,"click"],[1,"candidate-header"],[1,"candidate-info"],[1,"avatar"],["name","person-outline"],[1,"position"],[3,"color"],[1,"candidate-details"],[1,"detail-item"],["name","mail-outline"],["name","call-outline"],["name","business-outline"],["name","calendar-outline"],[1,"candidate-footer"],[1,"recruiter"],[3,"color",4,"ngIf"],[1,"empty-state"],["name","person-outline","size","large"],["name","add-outline","slot","start"]],template:function(n,i){1&n&&(t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),t.nrm(3,"ion-menu-button"),t.k0s(),t.j41(4,"ion-title"),t.EFF(5,"Candidates"),t.k0s()(),t.j41(6,"ion-toolbar")(7,"ion-searchbar",1),t.mxI("ngModelChange",function(d){return t.DH7(i.searchTerm,d)||(i.searchTerm=d),d}),t.bIt("ionInput",function(d){return i.onSearchChange(d)}),t.k0s()()(),t.j41(8,"ion-content")(9,"ion-card",2)(10,"ion-card-content")(11,"ion-item",3)(12,"ion-label"),t.EFF(13,"Status"),t.k0s(),t.j41(14,"ion-select",4),t.mxI("ngModelChange",function(d){return t.DH7(i.selectedStatus,d)||(i.selectedStatus=d),d}),t.bIt("ionChange",function(){return i.onFilterChange()}),t.j41(15,"ion-select-option",5),t.EFF(16,"All"),t.k0s(),t.j41(17,"ion-select-option",6),t.EFF(18,"Screening"),t.k0s(),t.j41(19,"ion-select-option",7),t.EFF(20,"Shortlisted"),t.k0s(),t.j41(21,"ion-select-option",8),t.EFF(22,"Interviewing"),t.k0s(),t.j41(23,"ion-select-option",9),t.EFF(24,"Offered"),t.k0s(),t.j41(25,"ion-select-option",10),t.EFF(26,"Hired"),t.k0s(),t.j41(27,"ion-select-option",11),t.EFF(28,"Rejected"),t.k0s()()()()(),t.DNE(29,j,2,1,"div",12)(30,b,10,2,"ion-card",12),t.j41(31,"ion-fab",13)(32,"ion-fab-button",14),t.bIt("click",function(){return i.createCandidate()}),t.nrm(33,"ion-icon",15),t.k0s()()()),2&n&&(t.R7$(7),t.R50("ngModel",i.searchTerm),t.R7$(7),t.R50("ngModel",i.selectedStatus),t.R7$(15),t.Y8G("ngIf",!i.isLoading&&i.filteredCandidates.length>0),t.R7$(),t.Y8G("ngIf",!i.isLoading&&0===i.filteredCandidates.length))},dependencies:[p.MD,p.Sq,p.bT,u.YN,u.BC,u.vS,r.W9,r.eU,r.BC,r.ai,r.QW,r.MC,r.b_,r.I9,r.uz,r.he,r.In,r.Jm,r.iq,r.S1,r.Nm,r.Ip,r.Q8,r.YW],styles:[".filter-card[_ngcontent-%COMP%]{margin:12px}.candidate-card[_ngcontent-%COMP%]{margin:12px;cursor:pointer;transition:transform .2s,box-shadow .2s}.candidate-card[_ngcontent-%COMP%]:active{transform:scale(.98)}.candidate-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px}.candidate-info[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;flex:1}.candidate-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background:linear-gradient(135deg,var(--ion-color-primary),var(--ion-color-secondary));display:flex;align-items:center;justify-content:center;color:#fff}.candidate-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5em}.candidate-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 4px;font-size:1.1em;color:var(--ion-color-dark)}.candidate-info[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{margin:0;font-size:.9em;color:var(--ion-color-primary);font-weight:500}.candidate-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;margin:16px 0;padding:12px;background:var(--ion-color-light);border-radius:8px}.detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:.85em;color:var(--ion-color-medium)}.detail-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.2em;color:var(--ion-color-primary)}.candidate-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:16px;padding-top:12px;border-top:1px solid var(--ion-color-light);font-size:.85em}.candidate-footer[_ngcontent-%COMP%]   .recruiter[_ngcontent-%COMP%]{color:var(--ion-color-medium)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px 20px}.empty-state[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:16px 0 8px;color:var(--ion-color-dark)}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin-bottom:24px}"]})}}return a})()}}]);