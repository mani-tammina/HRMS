"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[76],{4086:(d,u,i)=>{i.d(u,{p:()=>c});var l=i(5312),p=i(4438),o=i(1626);let c=(()=>{class s{constructor(a){this.http=a,this.apiUrl=`${l.c.apiUrl}/admin/timesheet`}getDashboard(a,e,t,r){let n={};return a&&(n.startDate=a),e&&(n.endDate=e),t&&(n.projectId=t.toString()),r&&(n.complianceStatus=r),this.http.get(`${this.apiUrl}/dashboard`,{params:n})}getNonCompliantEmployees(a,e,t){let r={};return a&&(r.date=a),e&&(r.projectId=e.toString()),t&&(r.complianceType=t),this.http.get(`${this.apiUrl}/non-compliant-employees`,{params:r})}getVerificationQueue(a,e,t,r){let n={};return a&&(n.status=a),e&&(n.projectId=e.toString()),t&&(n.startDate=t),r&&(n.endDate=r),this.http.get(`${this.apiUrl}/verification-queue`,{params:n})}getComparisonData(a){return this.http.get(`${this.apiUrl}/comparison/${a}`)}verifyWorkUpdate(a){return this.http.post(`${this.apiUrl}/verify`,a)}bulkVerify(a){return this.http.post(`${this.apiUrl}/bulk-verify`,a)}getPayrollStatus(a){let e={};return a&&(e.payrollPeriod=a),this.http.get(`${this.apiUrl}/payroll-status`,{params:e})}lockPayrollPeriod(a){return this.http.post(`${this.apiUrl}/lock-payroll-period`,{payrollPeriod:a})}downloadTimesheet(a){return this.http.get(`${this.apiUrl}/download/${a}`,{responseType:"blob"})}static{this.\u0275fac=function(e){return new(e||s)(p.KVO(o.Qq))}}static{this.\u0275prov=p.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})()},1963:(d,u,i)=>{i.d(u,{$:()=>s});var l=i(6354),p=i(5312),o=i(4438),c=i(1626);let s=(()=>{class h{constructor(e){this.http=e,this.apiUrl=`${p.c.apiUrl}/attendance`}getAttendance(e,t){const r={};return e&&(r.startDate=e),t&&(r.endDate=t),console.log("AttendanceService: Fetching attendance with params:",r),this.http.get(`${this.apiUrl}/me`,{params:r})}punchIn(e,t,r){return console.log("AttendanceService: Punching in with work mode:",e),this.http.post(`${this.apiUrl}/punch-in`,{work_mode:e||"Office",location:t,notes:r})}punchOut(e){return console.log("AttendanceService: Punching out"),this.http.post(`${this.apiUrl}/punch-out`,{notes:e})}getTodayStatus(){return console.log("AttendanceService: Fetching today status"),this.http.get(`${this.apiUrl}/today`)}getTodayAttendance(){return console.log("AttendanceService: Fetching today attendance"),this.http.get(`${this.apiUrl}/today`).pipe((0,l.T)(e=>(console.log("AttendanceService: Today attendance response:",e),e.has_attendance?e.attendance:null)))}getMonthlyReport(e,t){return this.http.get(`${this.apiUrl}/report/monthly`,{params:{month:e,year:t}})}static{this.\u0275fac=function(t){return new(t||h)(o.KVO(c.Qq))}}static{this.\u0275prov=o.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},6437:(d,u,i)=>{i.d(u,{O:()=>h});var l=i(6354),p=i(5312);var c=i(4438),s=i(1626);let h=(()=>{class a{constructor(t){this.http=t,this.apiUrl=`${p.c.apiUrl}/employees`}getEmployees(){return this.http.get(this.apiUrl).pipe((0,l.T)(t=>t.map(r=>this.transformEmployee(r))))}getEmployeesWithStatus(t){return this.http.get(this.apiUrl).pipe((0,l.T)(r=>r.filter(n=>n.EmploymentStatus===t).map(n=>this.transformEmployee(n))))}transformEmployee(t){return{id:t.id?.toString()||"",name:`${t.FirstName||""} ${t.LastName||""}`.trim()||"N/A",email:t.WorkEmail||t.PersonalEmail||"N/A",phone:t.ContactNumber||t.MobileNumber,department:t.DepartmentId||"N/A",position:t.DesignationId||"N/A",joinDate:t.DateJoined||t.created_at,avatar:t.ProfilePicture||"assets/avatar-placeholder.png",EmploymentStatus:t.EmploymentStatus}}getEmployee(t){return this.http.get(`${this.apiUrl}/${t}`)}getEmployeeDetails(t){return this.http.get(`${this.apiUrl}/${t}/details`)}createEmployee(t){return this.http.post(this.apiUrl,t)}updateEmployee(t,r){return this.http.put(`${this.apiUrl}/${t}`,r)}deleteEmployee(t){return this.http.delete(`${this.apiUrl}/${t}`)}getTeamMembers(t){return this.http.get(`${this.apiUrl}/reporting/${t}`).pipe((0,l.T)(r=>r.map(n=>this.transformEmployee(n))))}getMyProfile(){return this.http.get(`${this.apiUrl}/profile/me`)}static{this.\u0275fac=function(r){return new(r||a)(c.KVO(s.Qq))}}static{this.\u0275prov=c.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})()},7097:(d,u,i)=>{i.d(u,{c:()=>c});var l=i(5312),p=i(4438),o=i(1626);let c=(()=>{class s{constructor(a){this.http=a,this.apiUrl=`${l.c.apiUrl}/leave`}getLeavePlans(){return console.log("LeavePlanService: Calling GET",`${this.apiUrl}/plans`),this.http.get(`${this.apiUrl}/plans`)}getLeavePlan(a){return this.http.get(`${this.apiUrl}/plans/${a}`)}createLeavePlan(a){return this.http.post(`${this.apiUrl}/plans`,a)}updateLeavePlan(a,e){return this.http.put(`${this.apiUrl}/plans/${a}`,e)}getLeaveTypes(){return console.log("LeavePlanService: Calling GET",`${this.apiUrl}/types`),this.http.get(`${this.apiUrl}/types`)}createLeaveType(a){return this.http.post(`${this.apiUrl}/types`,a)}updateLeaveType(a,e){return this.http.put(`${this.apiUrl}/types/${a}`,e)}static{this.\u0275fac=function(e){return new(e||s)(p.KVO(o.Qq))}}static{this.\u0275prov=p.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})()},7599:(d,u,i)=>{i.d(u,{P:()=>s});var l=i(6354),p=i(5312),o=i(4438),c=i(1626);let s=(()=>{class h{constructor(e){this.http=e,this.apiUrl=`${p.c.apiUrl}/leaves`}getLeaves(){return this.http.get(`${this.apiUrl}/my-leaves`)}getLeave(e){return this.http.get(`${this.apiUrl}/my-leaves`).pipe((0,l.T)(t=>t.find(r=>r.id===e)||{}))}requestLeave(e){return console.log("LeaveService: Requesting leave",e),this.http.post(`${this.apiUrl}/apply`,e)}approveLeave(e){return this.http.put(`${this.apiUrl}/approve/${e}`,{})}rejectLeave(e,t){return this.http.put(`${this.apiUrl}/reject/${e}`,{reason:t})}getLeaveBalance(){return this.http.get(`${this.apiUrl}/balance`).pipe((0,l.T)(e=>{const t=e?.balances||(Array.isArray(e)?e:[]),r=t.reduce((g,v)=>g+parseFloat(v.used_days||0),0),n=t.reduce((g,v)=>g+parseFloat(v.allocated_days||0),0);return{used:r,total:n,available:n-r,attendanceRate:e.attendanceRate||95,balances:t,leave_balances:t}}))}getEmployeeLeaveBalance(e){const t={};return e&&(t.year=e.toString()),console.log("LeaveService: Fetching leave balance",t),this.http.get(`${this.apiUrl}/balance`,{params:t})}initializeLeaveBalance(){return console.log("LeaveService: Initializing leave balance"),this.http.post(`${this.apiUrl}/initialize-my-balance`,{})}getAvailableLeaveTypes(){return console.log("LeaveService: Fetching available leave types"),this.http.get(`${this.apiUrl}/balance`).pipe((0,l.T)(e=>e.map(t=>({id:t.leave_type_id,type_name:t.type_name,type_code:t.type_code,is_paid:t.is_paid,available_days:t.available_days,allocated_days:t.allocated_days}))))}static{this.\u0275fac=function(t){return new(t||h)(o.KVO(c.Qq))}}static{this.\u0275prov=o.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},2061:(d,u,i)=>{i.d(u,{P:()=>c});var l=i(5312),p=i(4438),o=i(1626);let c=(()=>{class s{constructor(a){this.http=a,this.apiUrl=`${l.c.apiUrl}/payroll`}generatePayroll(a,e){return this.http.post(`${this.apiUrl}/generate`,{month:a,year:e})}getPayrollRuns(a,e,t){let r={};return a&&(r.month=a.toString()),e&&(r.year=e.toString()),t&&(r.status=t),this.http.get(this.apiUrl,{params:r})}getPayrollRunDetails(a){return this.http.get(`${this.apiUrl}/${a}`)}getMyPayslips(){return this.http.get(`${this.apiUrl}/my-payslips`)}getSalaryStructure(a){return this.http.get(a?`${this.apiUrl}/salary-structure/${a}`:`${this.apiUrl}/my-salary-structure`)}updateSalaryStructure(a,e){return this.http.put(`${this.apiUrl}/salary-structure/${a}`,e)}finalizePayroll(a){return this.http.put(`${this.apiUrl}/${a}/finalize`,{})}markAsPaid(a){return this.http.put(`${this.apiUrl}/${a}/mark-paid`,{})}getPayrollDefaults(){return this.http.get(`${this.apiUrl}/defaults`)}createPayrollDefaults(a){return this.http.post(`${this.apiUrl}/defaults`,a)}updatePayrollDefaults(a,e){return this.http.put(`${this.apiUrl}/defaults/${a}`,e)}getAllPayrollRuns(){return this.http.get(`${this.apiUrl}/runs`)}getAllPayslips(){return this.http.get(`${this.apiUrl}/slips/all`)}recalculatePayslip(a,e,t){return this.http.post(`${this.apiUrl}/recalculate/${a}`,{month:e,year:t})}static{this.\u0275fac=function(e){return new(e||s)(p.KVO(o.Qq))}}static{this.\u0275prov=p.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})()}}]);