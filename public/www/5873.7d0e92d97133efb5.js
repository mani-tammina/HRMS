"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5873],{8254:(b,g,c)=>{c.r(g),c.d(g,{AssetsPage:()=>x});var m=c(467),p=c(177),d=c(4341),a=c(7820),u=c(2951),_=c(5873),h=c(6233),e=c(4438),C=c(5493),f=c(3799),M=c(6119);const P=(n,l)=>l.id;function O(n,l){1&n&&e.nrm(0,"app-loading",27)}function v(n,l){if(1&n&&(e.j41(0,"ion-card")(1,"ion-card-content",29),e.nrm(2,"ion-icon",30),e.j41(3,"h3"),e.EFF(4,"No Assets Found"),e.k0s(),e.j41(5,"p"),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(6),e.JRh(t.searchTerm?"Try adjusting your search":"Click Add Asset to create a new asset")}}function F(n,l){if(1&n&&(e.j41(0,"p",41),e.EFF(1),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.description)}}function E(n,l){if(1&n&&(e.j41(0,"div",43)(1,"span",44),e.EFF(2,"Serial:"),e.k0s(),e.j41(3,"span",45),e.EFF(4),e.k0s()()),2&n){const t=e.XpG().$implicit;e.R7$(4),e.JRh(t.serial_number)}}function A(n,l){if(1&n&&(e.j41(0,"div",43)(1,"span",44),e.EFF(2,"Purchase:"),e.k0s(),e.j41(3,"span",45),e.EFF(4),e.k0s()()),2&n){const t=e.XpG().$implicit,o=e.XpG(3);e.R7$(4),e.JRh(o.formatDate(t.purchase_date))}}function T(n,l){if(1&n&&(e.j41(0,"div",43)(1,"span",44),e.EFF(2,"Warranty:"),e.k0s(),e.j41(3,"span",45),e.EFF(4),e.k0s()()),2&n){const t=e.XpG().$implicit,o=e.XpG(3);e.R7$(4),e.JRh(o.formatDate(t.warranty_expiry))}}function y(n,l){if(1&n&&(e.j41(0,"div",43)(1,"span",44),e.EFF(2,"Location:"),e.k0s(),e.j41(3,"span",45),e.EFF(4),e.k0s()()),2&n){const t=e.XpG().$implicit;e.R7$(4),e.JRh(t.location)}}function R(n,l){if(1&n){const t=e.RV6();e.j41(0,"ion-card",32),e.bIt("click",function(){const s=e.eBV(t).$implicit,r=e.XpG(3);return e.Njj(r.viewAsset(s.id))}),e.j41(1,"ion-card-header")(2,"div",33)(3,"div",34)(4,"ion-card-title"),e.EFF(5),e.k0s(),e.j41(6,"div",35)(7,"span",36),e.EFF(8),e.k0s(),e.j41(9,"span",37),e.EFF(10,"\u2022"),e.k0s(),e.j41(11,"span",38),e.EFF(12),e.k0s()()(),e.j41(13,"div",39)(14,"ion-badge",40),e.EFF(15),e.nI1(16,"titlecase"),e.k0s(),e.j41(17,"ion-badge",40),e.EFF(18),e.nI1(19,"titlecase"),e.k0s()()()(),e.j41(20,"ion-card-content"),e.DNE(21,F,2,1,"p",41),e.j41(22,"div",42),e.DNE(23,E,5,1,"div",43)(24,A,5,1,"div",43)(25,T,5,1,"div",43)(26,y,5,1,"div",43),e.k0s()()()}if(2&n){const t=l.$implicit,o=e.XpG(3);e.R7$(5),e.JRh(t.asset_name),e.R7$(3),e.JRh(t.asset_tag),e.R7$(4),e.JRh(t.asset_type),e.R7$(2),e.Y8G("color",o.getStatusColor(t.status)),e.R7$(),e.SpI(" ",e.bMT(16,12,t.status)," "),e.R7$(2),e.Y8G("color",o.getConditionColor(t.condition)),e.R7$(),e.SpI(" ",e.bMT(19,14,t.condition)," "),e.R7$(3),e.vxM(t.description?21:-1),e.R7$(2),e.vxM(t.serial_number?23:-1),e.R7$(),e.vxM(t.purchase_date?24:-1),e.R7$(),e.vxM(t.warranty_expiry?25:-1),e.R7$(),e.vxM(t.location?26:-1)}}function j(n,l){if(1&n&&e.Z7z(0,R,27,16,"ion-card",31,P),2&n){const t=e.XpG(2);e.Dyx(t.filteredAssets)}}function k(n,l){if(1&n&&e.DNE(0,v,7,1,"ion-card")(1,j,2,0),2&n){const t=e.XpG();e.vxM(0===t.filteredAssets.length?0:1)}}let x=(()=>{class n{constructor(t,o,s){this.assetsService=t,this.router=o,this.errorHandler=s,this.assets=[],this.filteredAssets=[],this.isLoading=!1,this.searchTerm="",this.filterStatus="all",this.filterType="all",this.selectedView="list",(0,u.d)({addOutline:_.EKF,cubeOutline:_.a7r,checkmarkCircleOutline:_.gz2,alertCircleOutline:_.ndb,searchOutline:_.jBE,statsChartOutline:_.IEp,personAddOutline:_.zsU,downloadOutline:_.fPB})}ngOnInit(){this.loadAssets()}ionViewWillEnter(){this.loadAssets()}loadAssets(){var r,t=this;this.isLoading=!0,this.assetsService.getAssets("all"!==this.filterStatus?this.filterStatus:void 0,"all"!==this.filterType?this.filterType:void 0).subscribe({next:r=>{this.assets=r.assets,this.filterAssets(),this.isLoading=!1},error:(r=(0,m.A)(function*(i){yield t.errorHandler.handleError(i,"Failed to load assets"),t.isLoading=!1}),function(D){return r.apply(this,arguments)})})}handleRefresh(t){this.loadAssets(),setTimeout(()=>t.target.complete(),1e3)}onSearchChange(t){this.searchTerm=t.target.value?.toLowerCase()||"",this.filterAssets()}onFilterChange(){this.loadAssets()}onViewChange(t){this.selectedView=t.detail.value,"reports"===this.selectedView&&this.router.navigate(["/admin/assets/reports"])}filterAssets(){this.filteredAssets=this.searchTerm?this.assets.filter(t=>t.asset_name.toLowerCase().includes(this.searchTerm)||t.asset_tag.toLowerCase().includes(this.searchTerm)||t.asset_type.toLowerCase().includes(this.searchTerm)):this.assets}viewAsset(t){this.router.navigate(["/admin/assets",t])}addAsset(){this.router.navigate(["/admin/assets/new"])}allocateAsset(){this.router.navigate(["/admin/assets/allocate"])}viewReports(){this.router.navigate(["/admin/assets/reports"])}getStatusColor(t){return{available:"success",allocated:"primary",under_maintenance:"warning",retired:"medium"}[t]||"medium"}getConditionColor(t){return{new:"success",good:"primary",fair:"warning",poor:"danger",damaged:"danger"}[t]||"medium"}formatDate(t){return t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(C.T),e.rXU(f.Ix),e.rXU(M.c))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-assets"]],standalone:!0,features:[e.aNF],decls:58,vars:5,consts:[["slot","start"],["defaultHref","/admin"],["slot","end"],[3,"click"],["slot","icon-only","name","stats-chart-outline"],[1,"page-container"],[1,"action-cards"],[1,"action-card",3,"click"],["name","add-outline","color","primary"],["name","person-add-outline","color","success"],[1,"filter-card"],["placeholder","Search assets...","debounce","300",3,"ngModelChange","ionInput","ngModel"],[1,"filter-row"],["placeholder","Status","interface","popover",3,"ngModelChange","ionChange","ngModel"],["value","all"],["value","available"],["value","allocated"],["value","under_maintenance"],["value","retired"],["placeholder","Type","interface","popover",3,"ngModelChange","ionChange","ngModel"],["value","Laptop"],["value","Desktop"],["value","Monitor"],["value","Mobile"],["value","Keyboard"],["value","Mouse"],["value","Other"],["message","Loading assets...","type","spinner"],["slot","fixed",3,"ionRefresh"],[1,"empty-state"],["name","cube-outline","size","large"],[1,"asset-card"],[1,"asset-card",3,"click"],[1,"asset-header"],[1,"asset-info"],[1,"asset-meta"],[1,"asset-tag"],[1,"separator"],[1,"asset-type"],[1,"badges"],[3,"color"],[1,"asset-description"],[1,"asset-details"],[1,"detail-item"],[1,"label"],[1,"value"]],template:function(o,s){1&o&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e.nrm(3,"ion-back-button",1),e.k0s(),e.j41(4,"ion-title"),e.EFF(5,"Assets Management"),e.k0s(),e.j41(6,"ion-buttons",2)(7,"ion-button",3),e.bIt("click",function(){return s.viewReports()}),e.nrm(8,"ion-icon",4),e.k0s()()()(),e.j41(9,"ion-content")(10,"div",5)(11,"div",6)(12,"ion-card",7),e.bIt("click",function(){return s.addAsset()}),e.j41(13,"ion-card-content"),e.nrm(14,"ion-icon",8),e.j41(15,"span"),e.EFF(16,"Add Asset"),e.k0s()()(),e.j41(17,"ion-card",7),e.bIt("click",function(){return s.allocateAsset()}),e.j41(18,"ion-card-content"),e.nrm(19,"ion-icon",9),e.j41(20,"span"),e.EFF(21,"Allocate Asset"),e.k0s()()()(),e.j41(22,"ion-card",10)(23,"ion-card-content")(24,"ion-searchbar",11),e.mxI("ngModelChange",function(i){return e.DH7(s.searchTerm,i)||(s.searchTerm=i),i}),e.bIt("ionInput",function(i){return s.onSearchChange(i)}),e.k0s(),e.j41(25,"div",12)(26,"ion-select",13),e.mxI("ngModelChange",function(i){return e.DH7(s.filterStatus,i)||(s.filterStatus=i),i}),e.bIt("ionChange",function(){return s.onFilterChange()}),e.j41(27,"ion-select-option",14),e.EFF(28,"All Status"),e.k0s(),e.j41(29,"ion-select-option",15),e.EFF(30,"Available"),e.k0s(),e.j41(31,"ion-select-option",16),e.EFF(32,"Allocated"),e.k0s(),e.j41(33,"ion-select-option",17),e.EFF(34,"Maintenance"),e.k0s(),e.j41(35,"ion-select-option",18),e.EFF(36,"Retired"),e.k0s()(),e.j41(37,"ion-select",19),e.mxI("ngModelChange",function(i){return e.DH7(s.filterType,i)||(s.filterType=i),i}),e.bIt("ionChange",function(){return s.onFilterChange()}),e.j41(38,"ion-select-option",14),e.EFF(39,"All Types"),e.k0s(),e.j41(40,"ion-select-option",20),e.EFF(41,"Laptop"),e.k0s(),e.j41(42,"ion-select-option",21),e.EFF(43,"Desktop"),e.k0s(),e.j41(44,"ion-select-option",22),e.EFF(45,"Monitor"),e.k0s(),e.j41(46,"ion-select-option",23),e.EFF(47,"Mobile"),e.k0s(),e.j41(48,"ion-select-option",24),e.EFF(49,"Keyboard"),e.k0s(),e.j41(50,"ion-select-option",25),e.EFF(51,"Mouse"),e.k0s(),e.j41(52,"ion-select-option",26),e.EFF(53,"Other"),e.k0s()()()()(),e.DNE(54,O,1,0,"app-loading",27)(55,k,2,1),e.j41(56,"ion-refresher",28),e.bIt("ionRefresh",function(i){return s.handleRefresh(i)}),e.nrm(57,"ion-refresher-content"),e.k0s()()()),2&o&&(e.R7$(24),e.R50("ngModel",s.searchTerm),e.R7$(2),e.R50("ngModel",s.filterStatus),e.R7$(11),e.R50("ngModel",s.filterType),e.R7$(17),e.vxM(s.isLoading?54:-1),e.R7$(),e.vxM(s.isLoading?-1:55))},dependencies:[p.MD,p.PV,d.YN,d.BC,d.vS,a.W9,a.eU,a.BC,a.ai,a.QW,a.el,a.b_,a.I9,a.ME,a.tN,a.Jm,a.iq,a.In,a.S1,a.To,a.Ki,a.Nm,a.Ip,h.q],styles:[".page-container[_ngcontent-%COMP%]{padding:1rem;padding-bottom:80px}.action-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem;margin-bottom:1rem}.action-cards[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]{cursor:pointer;margin:0;transition:transform .2s ease}.action-cards[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.action-cards[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;padding:1.5rem}.action-cards[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:2rem}.action-cards[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;font-size:.938rem}.filter-card[_ngcontent-%COMP%]{margin-bottom:1rem}.filter-card[_ngcontent-%COMP%]   ion-searchbar[_ngcontent-%COMP%]{padding:0 0 1rem}.filter-card[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.asset-card[_ngcontent-%COMP%]{cursor:pointer;transition:transform .2s ease,box-shadow .2s ease;margin-bottom:1rem}.asset-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-md)}.asset-card[_ngcontent-%COMP%]   .asset-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem}.asset-card[_ngcontent-%COMP%]   .asset-header[_ngcontent-%COMP%]   .asset-info[_ngcontent-%COMP%]{flex:1}.asset-card[_ngcontent-%COMP%]   .asset-header[_ngcontent-%COMP%]   .asset-info[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:1.125rem;margin-bottom:.5rem;color:var(--text-primary)}.asset-card[_ngcontent-%COMP%]   .asset-header[_ngcontent-%COMP%]   .asset-info[_ngcontent-%COMP%]   .asset-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:var(--text-secondary)}.asset-card[_ngcontent-%COMP%]   .asset-header[_ngcontent-%COMP%]   .asset-info[_ngcontent-%COMP%]   .asset-meta[_ngcontent-%COMP%]   .asset-tag[_ngcontent-%COMP%]{font-weight:600;color:var(--ion-color-primary)}.asset-card[_ngcontent-%COMP%]   .asset-header[_ngcontent-%COMP%]   .asset-info[_ngcontent-%COMP%]   .asset-meta[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{color:var(--ion-color-medium)}.asset-card[_ngcontent-%COMP%]   .asset-header[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;align-items:flex-end}.asset-card[_ngcontent-%COMP%]   .asset-description[_ngcontent-%COMP%]{margin:1rem 0;color:var(--text-secondary);font-size:.938rem;line-height:1.5}.asset-card[_ngcontent-%COMP%]   .asset-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:.75rem;margin-top:1rem;padding-top:1rem;border-top:1px solid var(--border-color)}.asset-card[_ngcontent-%COMP%]   .asset-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.asset-card[_ngcontent-%COMP%]   .asset-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px}.asset-card[_ngcontent-%COMP%]   .asset-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-primary);font-weight:500}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem}.empty-state[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:4rem;color:var(--ion-color-medium);margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:1rem 0 .5rem;color:var(--text-primary);font-weight:600}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0}"]})}}return n})()}}]);